function cp(t,e,n){var i="clck/lid="+t;Lego.params.statRoot&&(i+="/sid="+Lego.params.msid);try{n=n||{},n.host=Lego.params?Lego.params["click-host"]:null,Lego.c(i,e,n)}catch(o){}}function cpr(t,e,n){try{Lego.cred(t,e,n)}catch(i){}}function cpt(t,e){t+=(document.getElementById("form").text.value?".full":".empty")+"/u="+(new Date).getTime(),cp(t,e)}function c0(t){try{Lego.c(t)}catch(e){}}function csh(t,e){try{cp(t,e)}catch(n){}}function csh_ifmsid(t,e){Lego.params.statRoot&&csh(t,e)}function cpa(t){return t&&"undefined"!=typeof Lego.params.msid?"onmousedown=\"Lego.cp('132','71946','"+t+"',this)\"":""}function Carousel(){this.items=[],this.angle=0,this.nextAngle=0,this.mult=1,this.moving=!1,this.speed=20,this.itemParams={ellipseX:80,ellipseY:15,centerX:300,centerY:40,width:142,height:190,scale:.7},this.itemsParent=null,this.video=null}function CarouselItem(t,e){this.params=t,this.parent=e,this.elem=null,this.currActive=!1,this.init()}function getcss(t){var e=document.createElement("link");e.setAttribute("type","text/css"),e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),document.getElementsByTagName("head").item(0).appendChild(e)}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e(t):e(t)}("undefined"!=typeof global?global:this,function(t){var e=function(){};if(e.version="1.0.21",e.isDebug=!1,e.isArray=function(t){return t instanceof Array},e.isArrayLike=function(t){return e.isObject(t)&&!e.isArray(t)&&"length"in t},e.isElement=function(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}},e.isFunction=function(){for(var t=0,e=arguments.length;e>t;t++)if(!(arguments[t]instanceof Function))return!1;return!0},e.isObject=function(t){return"object"==typeof t},e.isString=function(){for(var t=0,e=arguments.length;e>t;t++)if("string"!=typeof arguments[t])return!1;return!0},e.stringf=function(t){var e=Array.prototype.slice.call(arguments,1);return t.replace(/%s/g,function(){return e.shift()||""})},"undefined"==typeof JSON)throw new Error("JSON is not supported");e.JSON=JSON,e.console={slog:function(){this.log(e.stringf.apply(this,arguments))},log:function(e){"undefined"!=typeof debug?debug(e):t.console&&t.console.log&&t.console.log(e)},error:function(t){throw new Error(t)},dir:function(t){this.log(e.JSON.stringify(t))}},e.log=e.console.log,e.error=e.console.error;var n=/^https?:\/\/\S+/i;e.isURL=function(t){return"string"!=typeof t&&e.error("isURL expects string parameter instead "+typeof t),n.test(t)};var i=Array.prototype.filter?function(t,e){return t.filter(e)}:function(t,n){var i=[];return e.each(t,function(t,e){n(t,e,this)&&i.push(t)}),i};e.filter=function(t,n){return e.isArray(t)||e.error("first argument is expected to be an array instead of "+typeof t),e.isFunction(n)||e.error("second argument is expected to be a function instead of "+typeof n),i(t,n)},e.forEach=function(t,e,n){var i,o;for(n=n||t,i=0,o=t.length;o>i;i++)e.call(n,t[i],i,t);return this},e.indexOf=function(t,e,n){if(n=n||0,!(t instanceof Array))throw new Error("Function expects array as first argument");if("indexOf"in Array.prototype)return t.indexOf(e,n);for(var i=0,o=t.length;o>i;i++)if(t[i]===e&&i>=n)return i;return-1},e.map=function(t,n){var i=[];if(e.isArray(t)&&n instanceof Function)if(x.isFunction(t.map))i=t.map(n);else for(var o=0,s=t.length;s>o;o++)i[o]=n(t[o],o,t);return i},function(){var t=Array.prototype.some?function(t,e){return t.some(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(e(t[n],n,t))return!0;return!1};e.some=function(n,i){return e.isArray(n)||e.error("first argument is expected to be an array instead of "+typeof n),e.isFunction(i)||e.error("second argument is expected to be a function instead of "+typeof i),t(n,i)}}();var o={};e.each=o.each=function(t,n,i){if(e.isArray(t))e.forEach.apply(this,arguments);else{var o;i=i||t;for(o in t)t.hasOwnProperty(o)&&n.call(i,t[o],o,t)}return this},e.beget=function(t,n){var i,o={},s=typeof t,r=typeof n;if("object"!==s&&e.error("Only object allowed to be prototype and tried to work with "+s),"undefined"!==r&&"object"!==r&&e.error("Only object allowed to be list of properties instead "+r),"function"==typeof Object.create)i={},e.each(n,function(t,e){i[e]={writable:!0,enumerable:!0,value:t}}),o=Object.create(t,i);else{var a=function(){};t&&"object"==typeof t&&(a.prototype=t),i=new a,"undefined"!=typeof n&&e.each(n,function(t,e){i[e]=t}),o=i}return o},e.getRandom=function(t){return Math.floor(Math.random()*(t||1e3))},e.getElementId=function(t){e.isElement(t)||e.error("nodeElement expected as first argument instead of "+typeof t);var n=t.getAttribute("id");return n||(n="_"+e.getRandom(1e16),t.setAttribute("id",n)),n};var s=function(t){for(var e=document.all,n=[],i=0,o=e.length;o>i;++i)"string"==typeof e[i].getAttribute(t)&&n.push(e[i]);return n};e.getElementsByAttr=function(e){var n=[],i=arguments[1]||t.document||null;if("getAttribute"in i&&i.getAttribute(e)&&n.push(i),i&&i.querySelectorAll)try{n=n.concat(Array.prototype.slice.call(i.querySelectorAll("["+e+"]")))}catch(o){}return n.length||(n=n.concat(s(e))),n};var r=(new RegExp).compile(/^\s+|\s+$/g);e.trim=function(t){var n=typeof t;return"string"!==n&&e.error("Argument must be string but"+n+" passed"),t.trim instanceof Function?t.trim():t.replace(r,"")},e.stripSpaces=function(t){return t.split(" ").join("")},e.getJPathValue=function(t,e){for(var n=t,i=e.split("."),o=0;n[i[o]];)n=n[i[o++]];return n},e.getObject=function(t){return t.beget=function(t){return e.beget(this,t)},e.beget(t)},e.create=function(t){var e=function(){};return e.prototype=t,new e},e.constructURL=function(t,e){var n,i="",o=[],s=t.match(/((?:https?\:)?(?:\/)?\/[^?]+)\?([^#]+)?(\#\S+)?/),r=s&&s[3]?s[3]:"";if(s&&s[2])for(var a=s[2].split("&"),u=a.length;u--;)o.push(a[u]);for(n in e)e.hasOwnProperty(n)&&o.push(n+"="+e[n]);return i=s?s[1]+"?"+o.join("&")+r:t+"?"+o.join("&")+r},e.data=function(t,n){return e.isElement(t)||e.error("nodeElement expected as first argument instead of "+typeof t),t.getAttribute("data-"+n)},e.ComponentBase={data:function(t){var n=this.element;return n?e.data(n,t):void 0},setId:function(t){return this.id=t,this},baseInit:function(t,n){var i=this;this.element=n,e.each(e.dataset(n),function(t,e){i[e]=t})}},e.Component=function(){var t=[],n=[],i={},o="data-xapp";return{extend:function(o){var s,r=t.length;if(e.isObject(o))s=e.beget(e.ComponentBase,o);else if(e.isString(o)&&e.isFunction(arguments[1]))s=e.beget(e.ComponentBase,{id:o,init:arguments[1]});else{if(!e.isString(o)||!e.isArray(arguments[1]))throw new Error('Unknown definition structure, try to use extend("yourName", function() { ... init code ... })');var a=arguments[1];s=e.beget(e.ComponentBase,{id:o,init:function(){var t=e.filter(a,function(t){return e.isString(t)});t=e.map(t,function(t){if(!n[t])throw new Error("Service "+t+" hasnt defined");return n[t]()});var i=e.filter(a,function(t){return e.isFunction(t)});if(i.length>1)throw new Error("Too much declaration functions");i[0].apply(this,t)}})}return s.id||e.error("extend method expects id field in description object"),t.push(s),i[s.id]=r,t[r]},factory:function(t,e){n[t]=e},initByHTML:function(t){var n=t||document,i=this,s=e.getElementsByAttr(o,n);return e.forEach(s,function(t){var n=e.data(t,"xapp");e.forEach(n.split(" "),function(n){i.initById(n,e.getElementId(t),t)})}),this},initById:function(e,n,o){var s=e in i?t[i[e]]:null;s&&("undefined"!=typeof n&&s.setId(n),s.baseInit(n,o),s.init(n))}}}(),e.dataset=function(t){var n={};return e.isElement(t)&&(t.dataset&&"hasOwnProperty"in t.dataset&&e.isFunction(t.dataset.hasOwnProperty)?n=t.dataset:e.forEach(t.attributes,function(t){0===t.name.indexOf("data-")&&(n[t.name.substr(5)]=t.value)})),n},e.generateId=function(){return String(Math.random()).substr(2)},e.ns=function(t,e,n){return t[e]||(t[e]={}),"undefined"!=typeof n&&n.call(t[e]),this},e.extend=function(t,e){var n=function(){};t.superclass=n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,e.prototype.constructor===Object.prototype.constructor&&(e.prototype.constructor=e)},e.Interface=function(t,n){var i=this;2!==arguments.length&&e.error("Interface constructor called with "+arguments.length+"parameters, but expected exactly 2"),this.methods=[],this.name=t,e.forEach(n,function(t){"string"!=typeof t&&e.error("Interface constructor expects method names to be passed in as a string"),i.methods.push(t)})},e.Interface.ensureImplements=function(t,n){return 2!==arguments.length&&e.error("Interface constructor called with "+arguments.length+"parameters, but expected at least 2"),e.forEach(n,function(n){n.constructor!==e.Interface&&e.error("Function Interface.ensureImplements expects arguments two and above to be instances of Interface."),e.forEach(n.methods,function(i){t[i]&&"function"==typeof t[i]||e.error("Function Interface.ensureImplements: object does not implement the "+n.name+" interface. Method "+i+" was not found.")})}),!0},e.View=function(t){this.templates=t&&t.templates?e.beget(t.templates):{}},e.View.prototype={templates:{},re:{parse:/\[\%\s+([^%]+)\s+\%\]/g,rule:/:/},setParseRe:function(t){this.re.parse=t},getCustomRender:function(){var t="undefined"!==arguments[0]?arguments[0].split(this.re.rule):null;return t&&2===t.length?this.parseRules[t[0]]&&this.parseRules[t[0]].call(this,t[1]):void 0},parseRules:{l10n:function(t){return function(n){return e.isDebug&&!n.l10n(t)&&e.console.error("There is no translation for "+t),n.l10n?n.l10n(t):t}},jpath:function(t){return function(n){return e.getJPathValue(n,t)||""}},view:function(t){var e=this;return function(n){return e.get(t,n)}}},ruleFunction:function(t,n,i){var o=this;return this.getCustomRender(t)||function(s){var r=s&&s[t]||s&&s.views&&s.views.get(t,s)||"";return r||(r=i[t]?o.getContent(i[t],s):n?n[t]:""),e.isDebug&&!r&&e.console.log("Undefined variable "+t),r||""}},getContent:function(t,n){var i="";return i=e.isArray(t)?e.map(t,function(t){return"string"==typeof t?t:t(n)}).join(""):e.isFunction(t)?t(n):t.toString()},get:function(t,e){var n=this,i=e&&e.views?e.views.templates[t]:this.templates[t];return n.getContent(i,e)}},e.View.prototype.let=function(t,n,i){var o=this.templates[t]=[],s=this,r=0;return e.isFunction(n)?o.push(n):(n.replace(this.re.parse,function(t,e,a){o.push(n.substr(r,a-r),s.ruleFunction(e,i,s.templates)),r=a+t.length}),r<n.length&&o.push(n.substr(r))),this},e.views=new e.View,e.getViewsForLangs=function(t,e){var n={},i=this;return t.forEach(function(t){var o;if(e){if(!(t in e))throw new Error('No lang "'+t+'" in base views.');o=e[t]}n[t]=new i.View(o)}),n},e.toArray=function(t){return Array.prototype.slice.call(t)};var a={},u={};return e.amd={define:function(t,e,n){return n=n||!0,a[t]=e,n&&(u[t]=!0),this},require:function(){var t=e.toArray(arguments).slice(0,arguments.length-1),n=arguments[arguments.length-1];return t=e.map(t,function(t){if(!a[t])throw new Error("Unmet dependency:"+t);return u[t]?(a[t]=e.isFunction(a[t])?a[t]():a[t],a[t]):a[t]()}),n.apply(this,t),this}},e.bind=function(t,e){return function(){return t.apply(e,arguments)}},e.debounce=function(t,e,n){var i;return function(){var o=this,s=arguments,r=function(){i=null,n||t.apply(o,s)},a=n&&!i;clearTimeout(i),i=setTimeout(r,e),a&&t.apply(o,s)}},e.Set=function(){this.items=[]},e.Set.prototype={add:function(t){return this.has(t)||this.items.push(t),this},has:function(t){return-1!==x.indexOf(this.items,t)},remove:function(t){var e;return this.has(t)&&(e=this.items.splice(x.indexOf(this.items,t),1)),e},removeFirst:function(){var t;return this.isEmpty()||(t=this.items.splice(0,1)),t},iterate:function(t){for(var e=0,n=this.items.length;n>e;e++)t(this.items[e],e,this.items);return this},size:function(){return this.items.length},isEmpty:function(){return 0===this.items.length}},e.range=function(t,e){var n=t.split("..."),i=0,o=0;for(n[0]&&!isNaN(n[0])&&(i=n[0]),n[1]&&!isNaN(n[1])&&(o=n[1]);o>i;)e(i++)},"function"==typeof define&&define.amd&&define("franky",[],function(){return e}),t.x=t.franky=e,e}),$(function(){x.Component.initByHTML()}),x.ns(this,"ya"),x.ns(this,"home"),function(t){function e(e,i,o){var r=!1;if(s){var a=[];t.each(u,function(){o.hasOwnProperty(this)&&(r=!0)&&a.push({name:this,val:o[this]})}),r&&(t.each(o,function(t){a.push({name:t,val:this})}),o=a)}t.each(o,function(o,s){if(r&&(o=s.name,s=s.val),t.isFunction(s)&&(!n||s.toString().indexOf(".__base")>-1)){var a=e[o]||function(){};i[o]=function(){var t=this.__base;this.__base=a;var e=s.apply(this,arguments);return this.__base=t,e}}else i[o]=s})}var n=function(){"_"}.toString().indexOf("_")>-1,i=function(){},o=Object.create||function(t){var e=function(){};return e.prototype=t,new e},s=!0,r={toString:""};for(var a in r)r.hasOwnProperty(a)&&(s=!1);var u=s?["toString","valueOf"]:null;t.inherit=function(){var n=arguments,s=t.isFunction(n[0]),r=s?n[0]:i,a=n[s?1:0]||{},u=n[s?2:1],c=a.__constructor||s&&r.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:function(){};if(!s)return c.prototype=a,c.prototype.__self=c.prototype.constructor=c,t.extend(c,u);t.extend(c,r);var l=r.prototype,h=c.prototype=o(l);return h.__self=h.constructor=c,e(l,h,a),u&&e(r,c,u),c},t.inheritSelf=function(t,n,i){var o=t.prototype;return e(o,o,n),i&&e(t,t,i),t}}(jQuery),function(t){var e=0,n="__"+ +new Date,i=function(){return"uniq"+ ++e};t.identify=function(t,e){if(!t)return i();var o="uniqueID"in t?"uniqueID":n;return e||o in t?t[o]:t[o]=i()}}(jQuery),function(t){t.isEmptyObject||(t.isEmptyObject=function(t){for(var e in t)return!1;return!0})}(jQuery),function(t){t.extend({debounce:function(t,e,n,i){3==arguments.length&&"boolean"!=typeof n&&(i=n,n=!1);var o;return function(){var s=arguments;i=i||this,n&&!o&&t.apply(i,s),clearTimeout(o),o=setTimeout(function(){n||t.apply(i,s),o=null},e)}},throttle:function(t,e,n){var i,o,s;return function(){o=arguments,s=!0,n=n||this,i||function(){s?(t.apply(n,o),s=!1,i=setTimeout(arguments.callee,e)):i=null}()}}})}(jQuery),function(t){var e="__"+ +new Date+"storage",n=function(e,n){return t.identify(e)+(n?t.identify(n):"")},i={buildEventName:function(t){return t},on:function(i,o,s,r,a){if("string"==typeof i){t.isFunction(o)&&(r=s,s=o,o=void 0);for(var u,c=n(s,r),l=this[e]||(this[e]={}),h=i.split(" "),d=0;i=h[d++];)if(i=this.buildEventName(i),u=l[i]||(l[i]={ids:{},list:{}}),!(c in u.ids)){var f=u.list,p={fn:s,data:o,ctx:r,special:a};f.last?(f.last.next=p,p.prev=f.last):f.first=p,u.ids[c]=f.last=p}}else{var m=this;t.each(i,function(t,e){m.on(t,e,o,a)})}return this},onFirst:function(t,e,n,i){return this.on(t,e,n,i,{one:!0})},un:function(i,o,s){if("string"==typeof i||"undefined"==typeof i){var r=this[e];if(r)if(i){for(var a,u=i.split(" "),c=0;i=u[c++];)if(i=this.buildEventName(i),a=r[i])if(o){var l=n(o,s),h=a.ids;if(l in h){var d=a.list,f=h[l],p=f.prev,m=f.next;p?p.next=m:f===d.first&&(d.first=m),m?m.prev=p:f===d.last&&(d.last=p),delete h[l]}}else delete this[e][i]}else delete this[e]}else{var _=this;t.each(i,function(t,e){_.un(t,e,s)})}return this},trigger:function(n,i){var o,s=this,r=s[e];if("string"==typeof n?n=t.Event(s.buildEventName(o=n)):n.type=s.buildEventName(o=n.type),n.target||(n.target=s),r&&(r=r[n.type]))for(var a,u=r.list.first;u;)n.data=u.data,a=u.fn.call(u.ctx||s,n,i),"undefined"!=typeof a&&(n.result=a,a===!1&&(n.preventDefault(),n.stopPropagation())),u.special&&u.special.one&&s.un(o,u.fn,u.ctx),u=u.next;return this}};t.observable=t.inherit(i,i)}(jQuery),function(t,e){function n(t,e,n){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(n?"_"+n:"")}function i(e,i,o){t.isFunction(e)?i[n(o,"*","*")]=e:t.each(e,function(e,s){t.isFunction(s)?i[n(o,e,"*")]=s:t.each(s,function(t,s){i[n(o,e,t)]=s})})}function o(t,e){return e?Array.isArray(e)?function(n){for(var i=0,o=e.length;o>i;)if(n.hasMod(t,e[i++]))return!0;return!1}:function(n){return n.hasMod(t,e)}:function(e){return e.hasMod(t)}}var s=[],r={},a={};this.BEM=t.inherit(t.observable,{__constructor:function(t,e,n){var i=this;i._modCache=t||{},i._processingMods={},i._params=e,i.params=null,n!==!1?i._init():i.afterCurrentEvent(function(){i._init()})},_init:function(){return this._initing||this.hasMod("js","inited")||(this._initing=!0,this.params||(this.params=t.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},changeThis:function(t,e){return t.bind(e||this)},afterCurrentEvent:function(t,e){this.__self.afterCurrentEvent(this.changeThis(t,e))},trigger:function(t,e){return this.__base(t=this.buildEvent(t),e).__self.trigger(t,e),this},buildEvent:function(e){return"string"==typeof e&&(e=t.Event(e)),e.block=this,e},hasMod:function(t,n,i){var o=arguments.length,s=!1;1==o?(i="",n=t,t=e,s=!0):2==o&&("string"==typeof t?(i=n,n=t,t=e):(i="",s=!0));var r=this.getMod(t,n)===i;return s?!r:r},getMod:function(t,e){var n=typeof t;if("string"===n||"undefined"===n){e=t||e;var i=this._modCache;return e in i?i[e]:i[e]=this._extractModVal(e)}return this._getElemMod(e,t)},_getElemMod:function(t,e,n){return this._extractModVal(t,e,n)},getMods:function(t){var n=t&&"string"!=typeof t,i=this,o=[].slice.call(arguments,n?1:0),s=i._extractMods(o,n?t:e);return n||(o.length?o.forEach(function(t){i._modCache[t]=s[t]}):i._modCache=s),s},setMod:function(n,i,o){"undefined"==typeof o&&(o=i,i=n,n=e);var s=this;if(!n||n[0]){var r=(n&&n[0]?t.identify(n[0]):"")+"_"+i;if(this._processingMods[r])return s;var a,u=n?s._getElemMod(i,n,a=s.__self._extractElemNameFrom(n)):s.getMod(i);if(u===o)return s;this._processingMods[r]=!0;var c=!0,l=[i,o,u];n&&l.unshift(n),[["*","*"],[i,"*"],[i,o]].forEach(function(t){c=s._callModFn(a,t[0],t[1],l)!==!1&&c}),!n&&c&&(s._modCache[i]=o),c&&s._afterSetMod(i,o,u,n,a),delete this._processingMods[r]}return s},_afterSetMod:function(){},toggleMod:function(t,n,i,o,s){"string"==typeof t&&(s=o,o=i,i=n,n=t,t=e),"undefined"==typeof o?o="":"boolean"==typeof o&&(s=o,o="");var r=this.getMod(t,n);return(r==i||r==o)&&this.setMod(t,n,"boolean"==typeof s?s?i:o:this.hasMod(t,n,i)?o:i),this},delMod:function(t,n){return n||(n=t,t=e),this.setMod(t,n,"")},_callModFn:function(t,i,o,s){var r=n(t,i,o);return this[r]?this[r].apply(this,s):e},_extractModVal:function(){return""},_extractMods:function(){return{}},channel:function(t,e){return this.__self.channel(t,e)},getDefaultParams:function(){return{}},del:function(t){var e=[].slice.call(arguments);return"string"==typeof t&&e.unshift(this),this.__self.del.apply(this.__self,e),this},destruct:function(){}},{_name:"i-bem",blocks:r,decl:function(n,s,a){if("string"==typeof n?n={block:n}:n.name&&(n.block=n.name),n.baseBlock&&!r[n.baseBlock])throw'baseBlock "'+n.baseBlock+'" for "'+n.block+'" is undefined';s||(s={}),s.onSetMod&&(i(s.onSetMod,s),delete s.onSetMod),s.onElemSetMod&&(t.each(s.onElemSetMod,function(t,e){i(e,s,t)}),delete s.onElemSetMod);var u=r[n.baseBlock||n.block]||this;if(n.modName){var c=o(n.modName,n.modVal);t.each(s,function(n,i){t.isFunction(i)&&(s[n]=function(){var t;if(c(this))t=i;else{var o=u.prototype[n];o&&o!==s[n]&&(t=this.__base)}return t?t.apply(this,arguments):e})})}if(a&&"boolean"==typeof a.live){var l=a.live;a.live=function(){return l}}var h;return n.block==u._name?(h=t.inheritSelf(u,s,a))._processLive(!0):((h=r[n.block]=t.inherit(u,s,a))._name=n.block,delete h._liveInitable),h},_processLive:function(){return!1},create:function(t,e){return"string"==typeof t&&(t={block:t}),new r[t.block](t.mods,e)},getName:function(){return this._name},_extractElemNameFrom:function(){},afterCurrentEvent:function(t,e){1==s.push({fn:t,ctx:e})&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var t=s.length;if(t)for(var e,n=s.splice(0,t);e=n.shift();)e.fn.call(e.ctx||this)},changeThis:function(t,e){return t.bind(e||this)},del:function(t){var e="string"==typeof t,n=e?0:1,i=arguments.length;for(e&&(t=this);i>n;)delete t[arguments[n++]];return this},channel:function(n,i){return"boolean"==typeof n&&(i=n,n=e),n||(n="default"),i?void(a[n]&&(a[n].un(),delete a[n])):a[n]||(a[n]=new t.observable)}})}(jQuery),function(){Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e})}(),function(){var t=Array.prototype,e=Object.prototype.toString,n={indexOf:function(t,e){e=+(e||0);var n=this,i=n.length;if(i>0&&i>e)for(e=0>e?Math.ceil(e):Math.floor(e),-i>e&&(e=0),0>e&&(e+=i);i>e;){if(e in n&&n[e]===t)return e;++e}return-1},forEach:function(t,e){for(var n=-1,i=this,o=i.length;++n<o;)n in i&&(e?t.call(e,i[n],n,i):t(i[n],n,i))},map:function(t,e){for(var n=-1,i=this,o=i.length,s=new Array(o);++n<o;)n in i&&(s[n]=e?t.call(e,i[n],n,i):t(i[n],n,i));return s},filter:function(t,e){for(var n=-1,i=this,o=i.length,s=[];++n<o;)n in i&&(e?t.call(e,i[n],n,i):t(i[n],n,i))&&s.push(i[n]);return s},reduce:function(t,e){var n,i=-1,o=this,s=o.length;if(arguments.length<2){for(;++i<s;)if(i in o){n=o[i];break}}else n=e;for(;++i<s;)i in o&&(n=t(n,o[i],i,o));return n},some:function(t,e){for(var n=-1,i=this,o=i.length;++n<o;)if(n in i&&(e?t.call(e,i[n],n,i):t(i[n],n,i)))return!0;return!1},every:function(t,e){for(var n=-1,i=this,o=i.length;++n<o;)if(n in i&&!(e?t.call(e,i[n],n,i):t(i[n],n,i)))return!1;return!0}};for(var i in n)t[i]||(t[i]=n[i]);Array.isArray||(Array.isArray=function(t){return"[object Array]"===e.call(t)})}(),function(){var t=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(e){var n=this,i=t.call(arguments,1);return function(){return n.apply(e,i.concat(t.call(arguments)))}})}(),function(t,e,n){function i(t,e,n){n.push(r,t,r,e)}function o(t,e,n,o){o.push(t),n&&i(e,n,o)}function s(t,e,s,r,u){o(t,n,n,u),u.push(a,e),r&&i(s,r,u)}var r="_",a="__",u="[a-zA-Z0-9-]+";t.INTERNAL={NAME_PATTERN:u,MOD_DELIM:r,ELEM_DELIM:a,buildModPostfix:function(t,e,n){var o=n||[];return i(t,e,o),n?o:o.join("")},buildClass:function(t,e,i,r,a){var u=typeof i;if("string"==u?"string"!=typeof r&&"number"!=typeof r&&(a=r,r=i,i=e,e=n):"undefined"!=u?(a=i,i=n):e&&"string"!=typeof e&&(a=e,e=n),!(e||i||a))return t;var c=a||[];return e?s(t,e,i,r,c):o(t,i,r,c),a?c:c.join("")},buildClasses:function(t,i,r,a){i&&"string"!=typeof i&&(a=r,r=i,i=n);var u=a||[];return i?s(t,i,n,n,u):o(t,n,n,u),r&&e.each(r,function(e,n){n&&(u.push(" "),i?s(t,i,e,n,u):o(t,e,n,u))}),a?u:u.join("")}}}(BEM,jQuery),jQuery.cookie=function(t,e,n){if("undefined"==typeof e){var i=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),s=0;s<o.length;s++){var r=jQuery.trim(o[s]);if(r.substring(0,t.length+1)==t+"="){i=decodeURIComponent(r.substring(t.length+1));break}}return i}n=n||{},null===e&&(e="",n.expires=-1);var a="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var u;"number"==typeof n.expires?(u=new Date,u.setTime(u.getTime()+24*n.expires*60*60*1e3)):u=n.expires,a="; expires="+u.toUTCString()}var c=n.path?"; path="+n.path:"",l=n.domain?"; domain="+n.domain:"",h=n.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),a,c,l,h].join("")},function(t){function e(t){return t.replace(/%.{2}/g,function(t){return i[t]||t})}function n(t,n){var i="";try{i=t(n)}catch(o){try{i=t(e(n))}catch(o){i=n}}return i}var i={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};t.extend({decodeURI:function(t){return n(decodeURI,t)},decodeURIComponent:function(t){return n(decodeURIComponent,t)}})}(jQuery),function(t,e,n){function i(t,e,n){(t[e]||(t[e]=[])).unshift(n)}function o(t,e){return e.modName?function(n){(n._curBlock.mods||{})[e.modName]===e.modVal&&t(n)}:t}function s(t,n){var i,o=e.isArray(n);return e.isArray(t)?o?i=t.concat(n):(i=t).push(n):o?(i=n).unshift(t):i=[t,n],i}function r(t){return t.replace(p,function(t){return f[t]})}var a=t.INTERNAL,u=a.ELEM_DELIM,c={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1},l=a.buildClass,h=a.buildClasses,d={},f={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},p=/["&<>]/g;t.HTML={decl:function(t,n){"string"==typeof t&&(t={block:t}),t.name&&(t.block=t.name);var s=d[t.block]||(d[t.block]={});n.onBlock&&i(s,"_block",o(n.onBlock,t)),n.onElem&&(e.isFunction(n.onElem)?i(s,"_elem",o(n.onElem,t)):e.each(n.onElem,function(e,n){i(s,"_elem"+("*"===e?"":u+e),o(n,t))}))},build:function(t){var e=new this.Ctx(t);return e._buildAll(),e._flush()},Ctx:e.inherit({__constructor:function(t){this._buffer=[],this._params=t,this._tParams=null,this._tParamsChanges=null,this._curBlock=n},pos:function(){return this._params._pos},isFirst:function(){return 1===this._params._pos},isLast:function(){var t=this._params;return t._pos===t._siblingsCount},params:function(t){var e=this;return"undefined"==typeof t?e._params:(e._params=t,e)},param:function(t,n,i,o){var s=this,r=s._params;return"undefined"==typeof n?r[t]:(!i&&t in r?o&&(r[t]=e.extend(n,r[t])):r[t]=n,s)},attrs:function(t,e){return this.param("attrs",t,e,!0)},attr:function(t,e,n){var i=this;if("undefined"==typeof e)return(i._params.attrs||{})[t];var o=i._params.attrs;return o?(n||!(t in o))&&(o[t]=e):(i._params.attrs={})[t]=e,i},tag:function(t,e){return this.param("tag",t,e)},cls:function(t,e){return this.param("cls",t,e)},mods:function(t,e){return this.param("mods",t,e,!0)},mod:function(t,e,n){var i=this;if("undefined"==typeof e)return(i._params.mods||{})[t];var o=i._params.mods;return o?(n||!(t in o))&&(o[t]=e):(i._params.mods={})[t]=e,i},mix:function(t,e){var n=this,i=n._params;return"undefined"==typeof t?i.mix:(i.mix=!e&&"mix"in i?i.mix.concat(t):t,n)},js:function(t){return this.param("js",t)},content:function(t,e){return this.param("content",t,e)},wrapContent:function(t){var e=this,n=e._params;return t.content=n.content,n.content=t,e},beforeContent:function(t){var e=this,n=e._params;return n.content=s(t,n.content),e},afterContent:function(t){var e=this,n=e._params;return n.content=s(n.content,t),e},wrap:function(t){var e=this,n=e._params;return t.block||(t._curBlock=e._curBlock),t.content=n._wrapper?n._wrapper:n,n._wrapper=t,e},tParam:function(t,e){var n=this,i=n._tParams||(n._tParams={});if("undefined"==typeof e)return i[t];var o=n._tParamsChanges||(n._tParamsChanges={});return t in o||(o[t]=i[t]),i[t]=e,n},generateId:function(){return e.identify()},stop:function(){this._params._isStopped=!0},_buildAll:function(){var t=this,n=t._buffer,i=t._params,o=typeof i;if("string"==o||"number"==o)n.push(i);else if(e.isArray(i))for(var s,r,a=0,u=i.length;u>a;)t._params=s=i[a++],r=typeof s,"string"==r||"number"==r?n.push(s):s&&(s._pos=a,s._siblingsCount=u,t._buildByDecl());else i&&(t._params._pos=t._params._siblingsCount=1,t._buildByDecl())},_build:function(){var t,n=this,i=n._buffer,o=n._params,s=o.tag||"div",a=o.block||o.elem,u=a&&(o.block||n._curBlock.block),d=!1;o.js&&((t={})[l(u,o.elem)]=o.js===!0?{}:o.js,d=!o.elem),i.push("<",s),(a||o.cls)&&(i.push(' class="'),a&&(h(u,o.elem,o.mods,i),o.mix&&e.each(o.mix,function(e,n){n&&(i.push(" "),h(n.block,n.elem,n.mods,i),n.js&&((t||(t={}))[l(n.block,n.elem)]=n.js===!0?{}:n.js,d||(d=!n.elem)))})),o.cls&&i.push(a?" ":"",o.cls),d&&i.push(" i-bem"),i.push('"')),t&&i.push(' onclick="return ',r(JSON.stringify(t)),'"'),o.attrs&&e.each(o.attrs,function(t,e){"undefined"!=typeof e&&null!==e&&e!==!1&&i.push(" ",t,'="',e.toString().replace(/"/g,"&quot;"),'"')}),c[s]?i.push("/>"):(i.push(">"),"undefined"!=typeof o.content&&(n._params=o.content,n._buildAll()),i.push("</",s,">"))},_flush:function(){var t=this._buffer.join("");return delete this._buffer,t},_buildByDecl:function(){var t=this,n=t._curBlock,i=t._params;if(i._curBlock&&(t._curBlock=i._curBlock),i.block&&(t._curBlock=i),!i._wrapper){if(i.block||i.elem){var o=d[t._curBlock.block];if(o){var s;if(i.elem?(s=o["_elem"+u+i.elem],o._elem&&(s=s?s.concat(o._elem):o._elem)):s=o._block,s)for(var r,a=0;(r=s[a++])&&(r(t),!i._isStopped););}}if(i._wrapper)return i._curBlock=t._curBlock,t._params=i._wrapper,t._buildAll()}var c=t._tParamsChanges;if(t._tParamsChanges=null,t._build(),t._curBlock=n,c){var l=t._tParams;e.each(c,function(t,e){"undefined"==typeof e?delete l[t]:l[t]=e})}}})}}(BEM,jQuery),function(t){if(!window.JSON){var e,n=Object.prototype.toString,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};window.JSON={stringify:e=function(s){if(null===s)return"null";if("undefined"==typeof s)return t;switch(n.call(s)){case"[object String]":return i.lastIndex=0,'"'+(i.test(s)?s.replace(i,function(t){var e=o[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}):s)+'"';case"[object Number]":case"[object Boolean]":return""+s;case"[object Array]":for(var r,a="[",u=0,c=s.length;c>u;)r=e(s[u]),a+=(u++?",":"")+("undefined"==typeof r?"null":r);return a+"]";case"[object Object]":if("[object Function]"===n.call(s.toJSON))return e(s.toJSON());var r,a="{",u=0;for(var l in s)s.hasOwnProperty(l)&&(r=e(s[l]),"undefined"!=typeof r&&(a+=(u++?",":"")+'"'+l+'":'+r));return a+"}";default:return t}},parse:function(t){return Function("return "+t)()}}}}(),function(t,e,n){function i(t,n){var i=t[0];e.each(a(i),function(r,a){s(a,i,r,n);var u=p[a.uniqId];u?u.domElem.index(i)<0&&(u.domElem=u.domElem.add(t),e.extend(u._params,a)):o(r,t,a)})}function o(t,i,o,r,u){"boolean"==typeof o&&(u=r,r=o,o=n);var c=i[0];o=s(o||a(c)[t],c,t);var l=o.uniqId;if(p[l])return p[l]._init();f[l]=f[l]?f[l].add(i):i;var h=c.parentNode;h&&11!==h.nodeType||e.unique(f[l]);var d=v[t]||D.decl(t,{},{live:!0});if(!(d._liveInitable=!!d._processLive())||r||o.live===!1){r&&i.addClass("i-bem");var m=new d(f[l],o,!!r);return delete f[l],u&&u.apply(m,M.call(arguments,4)),m}}function s(t,n,i,o){(t||(t={})).uniqId||(t.uniqId=(t.id?i+"-id-"+t.id:e.identify())+(o||e.identify()));var s=e.identify(n),r=m[s]||(m[s]={});return r[i]||(r[i]=t),t}function r(t,e,n){var i=t.find(e);return n?i:i.add(t.filter(e))}function a(t){var n=e.identify(t);return m[n]||(m[n]=u(t))}function u(t){var n,i,o=t.getAttribute("data-bem");return o?JSON.parse(o):(n=t.onclick||t.ondblclick,n||"body"!=t.tagName.toLowerCase()||(i=e(t),o=i.attr("onclick")||i.attr("ondblclick"),o&&(n=Function(o))),n?n():{})}function c(t){delete m[e.identify(t)]}function l(t,e){1===t.domElem.length?t.destruct(!0):t.domElem=t.domElem.not(e)}var h=e(window),d=e(document),f={},p={},m={},_={},g={},v=t.blocks,b=t.INTERNAL,y=b.NAME_PATTERN,w=b.MOD_DELIM,k=b.ELEM_DELIM,x=b.buildModPostfix,E=b.buildClass,M=Array.prototype.slice,C=Array.prototype.reverse;e.fn.bem=function(t,e){return o(t,this,e,!0)};var D=t.DOM=t.decl("i-bem__dom",{__constructor:function(t,n,i){var o=this;o.domElem=t,o._eventNameCache={},o._elemCache={},p[o._uniqId=n.uniqId||e.identify(o)]=o,o._needSpecialUnbind=!1,o.__base(null,n,i)},findBlocksInside:function(t,e){return this._findBlocks("find",t,e)},findBlockInside:function(t,e){return this._findBlocks("find",t,e,!0)},findBlocksOutside:function(t,e){return this._findBlocks("parents",t,e)},findBlockOutside:function(t,e){return this._findBlocks("closest",t,e)[0]||null
},findBlocksOn:function(t,e){return this._findBlocks("",t,e)},findBlockOn:function(t,e){return this._findBlocks("",t,e,!0)},_findBlocks:function(t,i,s,r){if(!this.domElem)return[];s||(s=i,i=n);var a=i?"string"==typeof i?this.findElem(i):i:this.domElem,u="string"==typeof s,c=u?s:s.block||s.blockName,l="."+(u?E(c):E(c,s.modName,s.modVal))+(r?":first":""),h=a.filter(l);if(t&&(h=h.add(a[t](l))),r)return h[0]?o(c,h.eq(0),!0):null;var d=[],f={};return e.each(h,function(t,n){var i=o(c,e(n),!0);f[i._uniqId]||(f[i._uniqId]=!0,d.push(i))}),d},bindToDomElem:function(t,n,i){var o=this;return i?t.bind(o._buildEventName(n),function(t){return(t.data||(t.data={})).domElem=e(this),i.apply(o,arguments)}):e.each(n,function(e,n){o.bindToDomElem(t,e,n)}),o},bindToDoc:function(t,e){return this._needSpecialUnbind=!0,this.bindToDomElem(d,t,e)},bindToWin:function(t,e){var n,i,o=e;return"resize"===t&&(e=function(){var t=h.height(),e=h.width();(n!==t||i!==e)&&(n=t,i=e,o.apply(this,arguments))}),this._needSpecialUnbind=!0,this.bindToDomElem(h,t,e)},bindTo:function(t,n,i){return!n||e.isFunction(n)?(i=n,n=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.bindToDomElem(t,n,i)},unbindFromDomElem:function(t,e){return t.unbind(this._buildEventName(e)),this},unbindFromDoc:function(t){return this.unbindFromDomElem(d,t)},unbindFromWin:function(t){return this.unbindFromDomElem(h,t)},unbindFrom:function(t,e){return e?"string"==typeof t&&(t=this.elem(t)):(e=t,t=this.domElem),this.unbindFromDomElem(t,e)},_buildEventName:function(t){var e=this;return t.indexOf(" ")>1?t.split(" ").map(function(t){return e._buildOneEventName(t)}).join(" "):e._buildOneEventName(t)},_buildOneEventName:function(t){var e=this,n=e._eventNameCache;if(t in n)return n[t];var i="."+e._uniqId;if(t.indexOf(".")<0)return n[t]=t+i;var o=".bem_"+e.__self._name;return n[t]=t.split(".").map(function(t,e){return 0==e?t+o:o+"_"+t}).join("")+i},trigger:function(t,e){return this.__base(t=this.buildEvent(t),e).domElem&&this._ctxTrigger(t,e),this},_ctxTrigger:function(t,n){var i=this,o=_[i.__self._buildCtxEventName(t.type)],s={};o&&i.domElem.each(function(){for(var r=this,a=o.counter;r&&a;){var u=e.identify(r,!0);if(u){if(s[u])break;var c=o.ctxs[u];c&&(e.each(c,function(e,o){o.fn.call(o.ctx||i,t,n)}),a--),s[u]=!0}r=r.parentNode}})},setMod:function(t,n,i){if(t&&"undefined"!=typeof i&&t.length>1){var o=this;return t.each(function(){var s=e(this);s.__bemElemName=t.__bemElemName,o.setMod(s,n,i)}),o}return this.__base(t,n,i)},_extractModVal:function(t,e,n){var i,o=(e||this.domElem)[0];return o&&(i=o.className.match(this.__self._buildModValRE(t,n||e))),i?i[2]:""},_extractMods:function(t,e){var n={},i=!t.length,o=0;return((e||this.domElem)[0].className.match(this.__self._buildModValRE("("+(i?y:t.join("|"))+")",e,"g"))||[]).forEach(function(t){var e=(t=t.trim()).lastIndexOf(w),i=t.substr(0,e-1).lastIndexOf(w);n[t.substr(i+1,e-i-1)]=t.substr(e+1),++o}),o<t.length&&t.forEach(function(t){t in n||(n[t]="")}),n},_afterSetMod:function(t,n,i,o,s){var r=this.__self,a=r._buildModClassPrefix(t,s),u=r._buildModValRE(t,s),c=""===n;(o||this.domElem).each(function(){var t=this.className;t.indexOf(a)>-1?this.className=t.replace(u,c?"":"$1"+a+n):c||e(this).addClass(a+n)}),s&&this.dropElemCache(s,t,i).dropElemCache(s,t,n)},findElem:function(t,e,n,i){arguments.length%2?(i=n,n=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.findElem(t));var o=this.__self,s="."+e.split(" ").map(function(t){return E(o._name,t,n,i)}).join(",.");return r(t,s)},_elem:function(t,e,n){var i,o=t+x(e,n);return(i=this._elemCache[o])||(i=this._elemCache[o]=this.findElem(t,e,n),i.__bemElemName=t),i},elem:function(t,n,i){if(n&&"string"!=typeof n)return n.__bemElemName=t,n;if(t.indexOf(" ")<0)return this._elem(t,n,i);var o=e([]),s=this;return t.split(" ").forEach(function(t){o=o.add(s._elem(t,n,i))}),o},dropElemCache:function(t,e,n){if(t){var i=this,o=x(e,n);t.indexOf(" ")<0?delete i._elemCache[t+o]:t.split(" ").forEach(function(t){delete i._elemCache[t+o]})}else this._elemCache={};return this},elemParams:function(t){var e;return"string"==typeof t?(e=t,t=this.elem(t)):e=this.__self._extractElemNameFrom(t),u(t[0])[E(this.__self.getName(),e)]||{}},elemify:function(t,n){return(t=e(t)).__bemElemName=n,t},containsDomElem:function(t){var e=!1;return this.domElem.each(function(){return!(e=t.parents().andSelf().index(this)>-1)}),e},buildSelector:function(t,e,n){return this.__self.buildSelector(t,e,n)},destruct:function(t){var n=this,i=n.__self;n._isDestructing||(n._isDestructing=!0,n._needSpecialUnbind&&i.doc.add(i.win).unbind("."+n._uniqId),n.dropElemCache().domElem.each(function(t,n){var i=a(n);e.each(i,function(t,e){var i=p[e.uniqId];i?i._isDestructing||l(i,n):delete f[e.uniqId]}),c(n)}),t||n.domElem.remove(),delete p[n.un()._uniqId],delete n.domElem,delete n._elemCache,n.__base())}},{scope:null,doc:d,win:h,_processLive:function(t){var e=this,n=e._liveInitable;if("live"in e){var i="undefined"==typeof n;if(i^t){n=e.live()!==!1;var o=e.getName(),s=e.live;e.live=function(){return this.getName()===o?n:s.apply(this,arguments)}}}return n},init:function(t,n,o){(!t||e.isFunction(t))&&(o=n,n=t,t=d);var s=e.identify();return r(t,".i-bem").each(function(){i(e(this),s)}),n&&this.afterCurrentEvent(function(){n.call(o||this,t)}),this._runAfterCurrentEventFns(),t},destruct:function(t,i,o){"boolean"!=typeof t&&(o=i,i=t,t=n),C.call(r(i,".i-bem",o)).each(function(t,n){var i=a(this);e.each(i,function(t,e){if(e.uniqId){var i=p[e.uniqId];i?l(i,n):delete f[e.uniqId]}}),c(this)}),t||(o?i.empty():i.remove())},update:function(t,e,n,i){return this.destruct(t,!0),this.init(t.html(e),n,i)},replace:function(t,n){return this.destruct(!0,t),this.init(e(n).replaceAll(t))},append:function(t,n){return this.init(e(n).appendTo(t))},prepend:function(t,n){return this.init(e(n).prependTo(t))},before:function(t,n){return this.init(e(n).insertBefore(t))},after:function(t,n){return this.init(e(n).insertAfter(t))},_buildCtxEventName:function(t){return this._name+":"+t},_liveClassBind:function(t,n,i,o){var s=this;if(n.indexOf(" ")>-1)n.split(" ").forEach(function(e){s._liveClassBind(t,e,i,o)});else{var r=g[n],a=e.identify(i);r||(r=g[n]={},d.bind(n,s.changeThis(s._liveClassTrigger,s))),r=r[t]||(r[t]={uniqIds:{},fns:[]}),a in r.uniqIds||(r.fns.push({uniqId:a,fn:s._buildLiveEventFn(i,o)}),r.uniqIds[a]=r.fns.length-1)}return this},_liveClassUnbind:function(t,n,i){var o=g[n];if(o)if(i){if(o=o[t]){var s=e.identify(i);if(s in o.uniqIds){var r=o.uniqIds[s],a=o.fns.length-1;for(o.fns.splice(r,1);a>r;)o.uniqIds[o.fns[r++].uniqId]=r-1;delete o.uniqIds[s]}}}else delete o[t];return this},_liveClassTrigger:function(t){var n=g[t.type];if(n){var i=t.target,o=[];for(var s in n)n.hasOwnProperty(s)&&o.push(s);do for(var r=" "+i.className+" ",a=0;s=o[a++];)if(r.indexOf(" "+s+" ")>-1){for(var u,c=0,l=n[s].fns,h=!1;u=l[c++];)u.fn.call(e(i),t)===!1&&(h=!0);if(h&&t.preventDefault(),h||t.isPropagationStopped())return;o.splice(--a,1)}while(o.length&&(i=i.parentNode))}},_buildLiveEventFn:function(t,n){var i=this;return function(s){var r=[i._name,((s.data||(s.data={})).domElem=e(this)).closest(i.buildSelector()),!0],a=o.apply(null,n?r.concat([t,s]):r);return a&&!n&&t?t.apply(a,arguments):void 0}},liveInitOnEvent:function(t,e,n){return this.liveBindTo(t,e,n,!0)},liveBindTo:function(t,i,o,s){(!i||e.isFunction(i))&&(o=i,i=t,t=n),t&&"string"!=typeof t||(t={elem:t}),t.elemName&&(t.elem=t.elemName);var r=this;return t.elem&&t.elem.indexOf(" ")>0?(t.elem.split(" ").forEach(function(e){r._liveClassBind(E(r._name,e,t.modName,t.modVal),i,o,s)}),r):r._liveClassBind(E(r._name,t.elem,t.modName,t.modVal),i,o,s)},liveUnbindFrom:function(t,i,o){(!i||e.isFunction(i))&&(o=i,i=t,t=n);var s=this;return t&&t.indexOf(" ")>1?(t.split(" ").forEach(function(t){s._liveClassUnbind(E(s._name,t),i,o)}),s):s._liveClassUnbind(E(s._name,t),i,o)},_liveInitOnBlockEvent:function(t,e,n,i){var o=this._name;return v[e].on(t,function(t){if(t.block.domElem){var e=arguments,s=t.block[i](o);n&&s.forEach(function(t){n.apply(t,e)})}}),this},liveInitOnBlockEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOn")},liveInitOnBlockInsideEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOutside")},liveInitOnBlockInit:function(t,e){return this.liveInitOnBlockEvent("init",t,e)},liveInitOnBlockInsideInit:function(t,e){return this.liveInitOnBlockInsideEvent("init",t,e)},on:function(t,e,n,i,o){return t.jquery?this._liveCtxBind(t,e,n,i,o):this.__base(t,e,n,i)},un:function(t,e,n,i){return t.jquery?this._liveCtxUnbind(t,e,n,i):this.__base(t,e,n)},liveCtxBind:function(t,e,n,i,o){return this._liveCtxBind(t,e,n,i,o)},_liveCtxBind:function(t,i,o,s,r){var a=this;if("string"==typeof i)if(e.isFunction(o)&&(r=s,s=o,o=n),i.indexOf(" ")>-1)i.split(" ").forEach(function(e){a._liveCtxBind(t,e,o,s,r)});else{var u=a._buildCtxEventName(i),c=_[u]||(_[u]={counter:0,ctxs:{}});t.each(function(){var t=e.identify(this),n=c.ctxs[t];n||(n=c.ctxs[t]={},++c.counter),n[e.identify(s)+(r?e.identify(r):"")]={fn:s,data:o,ctx:r}})}else e.each(i,function(e,n){a._liveCtxBind(t,e,n,o)});return a},liveCtxUnbind:function(t,e,n,i){return this._liveCtxUnbind(t,e,n,i)},_liveCtxUnbind:function(t,n,i,o){var s=this,r=_[n=s._buildCtxEventName(n)];return r&&(t.each(function(){var t,n=e.identify(this,!0);n&&(t=r.ctxs[n])&&(i&&delete t[e.identify(i)+(o?e.identify(o):"")],(!i||e.isEmptyObject(t))&&(r.counter--,delete r.ctxs[n]))}),r.counter||delete _[n]),s},_extractElemNameFrom:function(t){if(t.__bemElemName)return t.__bemElemName;var e=t[0].className.match(this._buildElemNameRE());return e?e[1]:n},extractParams:u,_buildModClassPrefix:function(t,e){return E(this._name)+(e?k+("string"==typeof e?e:this._extractElemNameFrom(e)):"")+w+t+w},_buildModValRE:function(t,e,n){return new RegExp("(\\s|^)"+this._buildModClassPrefix(t,e)+"("+y+")(?=\\s|$)",n)},_buildElemNameRE:function(){return new RegExp(this._name+k+"("+y+")(?:\\s|$)")},buildSelector:function(t,e,n){return"."+E(this._name,t,e,n)},getBlockByUniqId:function(t){return p[t]},getWindowSize:function(){return{width:h.width(),height:h.height()}}});e(function(){t.DOM.scope=e("body")})}(BEM,jQuery),function(){String.prototype.trim||(String.prototype.trim=function(){for(var t=this.replace(/^\s\s*/,""),e=/\s/,n=t.length;e.test(t.charAt(--n)););return t.slice(0,n+1)})}(),BEM.DOM.decl("i-global",{onSetMod:{js:function(){this.del(this.__self._params=$.extend({},this.params),"uniqId","name");var t=this.__self._params;t["passport-msg"]||(t["passport-msg"]=t.id),void 0===t["show-counters"]&&(t["show-counters"]=Math.round(100*Math.random())<=t["show-counters-percent"]),t.locale=t.lang,$(function(){t.oframebust&&Lego.oframebust(t.oframebust)})}},getDefaultParams:function(){return{id:"",login:Lego.isSessionValid()?$.cookie("yandex_login")||"":"",yandexuid:$.cookie("yandexuid"),lang:"ru",tld:"ru",retpath:encodeURI($.decodeURI(location.href)),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100}}},{param:function(t){return(this._params||{})[t]}}),function(t){t||(t=window.Lego={}),t.isSessionValid=function(){return!!t.getCookie("yandex_login")}}(window.Lego),function(t){function e(t){return t.replace(/^(?:https?:)?\/\//,"")}t||(t=window.Lego={}),!t.params&&(t.params={}),t.c=function(t,n,i){var o=e(i&&i.host||BEM.blocks["i-global"].param("click-host")||"clck.yandex.ru"),s=function(t,e,n,i){return e=e.replace("'","%27"),e.indexOf("/dtype=")>-1?e:location.protocol+"//"+o+"/"+n+"/dtype="+t+"/rnd="+((new Date).getTime()+Math.round(100*Math.random()))+(i?"/*"+(e.match(/^http/)?e:location.protocol+"//"+location.host+(e.match("^/")?e:"/"+e)):"/*data="+encodeURIComponent("url="+encodeURIComponent(e.match(/^http/)?e:location.protocol+"//"+location.host+(e.match("^/")?e:"/"+e))))},r=function(){var e=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],n=document.createElement("script");n.setAttribute("src",s(t,location.href,"jclck")),e.insertBefore(n,e.firstChild)};if(n)if(n.className.match(/b-link_pseudo_yes/)||n.href&&n.href.match(/^mailto:/)||i&&i.noRedirect===!0)r();else if(n.href){var a=n.href;n.href=s(t,a,"redir"),setTimeout(function(){n.href=a},500)}else if(n.form)if(n.type.match(/submit|button|image/)){var a=n.form.action;n.form.action=s(t,a,"redir",!0),setTimeout(function(){n.form.action=a},500)}else r();else{if(!n.action)throw"counter.js: not link and not form!";n.action=s(t,n.action,"redir",!0)}else r()}}(window.Lego),function(t,e){t||(t=window.Lego={}),t.cp=function(n,i,o,s,r,a){"string"==typeof s||(a=r,r=s,s=e),t.c("stred/pid="+n+"/cid="+i+(o?"/path="+o+(s?"/vars="+s:""):""),r,a)}}(window.Lego),function(t){t||(t=window.Lego={}),t.ch=function(e,n,i){BEM.blocks["i-global"].param("show-counters")&&t.cp(0,2219,e,n,i)}}(window.Lego),function(t){t.cred=function(t,e,n){var i,o=function(){var e=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],n=document.createElement("script");n.setAttribute("src",t),e.insertBefore(n,e.firstChild)};if(e)if(e.className.match(/link_pseudo_yes/)||e.href&&e.href.match(/^mailto:/)||n&&n.noRedirect===!0)o();else if(e.href)i=e.href,e.href=t,setTimeout(function(){e.href=i},500);else if(e.form)e.type.match(/submit|button|image/)?(i=e.form.action,e.form.action=t,setTimeout(function(){e.form.action=i},500)):o();else{if(!e.action)throw"counter.js: not link and not form!";e.action=t}else o()}}(window.Lego),window.csh_ifgsid=csh_ifmsid,function(t){t||(t=window.Lego={}),t.getCookie=function(t){var e=document.cookie;if(e.length<1)return!1;var n=e.indexOf(t+"=");if(-1==n)return!1;n+=t.length+1;var i=e.indexOf(";",n);return decodeURIComponent(-1==i?e.substring(n):e.substring(n,i))}}(window.Lego),function(t,e){e||(e=window.Lego={}),e.init||(e.init=function(n){return(n=e.params=t.extend({id:"",login:e.isSessionValid()?e.getCookie("yandex_login")||"":"",yandexuid:e.getCookie("yandexuid"),locale:"ru",retpath:window.location.toString(),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","passport-msg":n.id,"social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100},n,e.params))["show-counters"]=Math.round(100*Math.random())<=n["show-counters-percent"],BEM.blocks["i-global"]._params||t.extend(BEM.blocks["i-global"]._params={},n),t(function(){n.oframebust&&e.oframebust(n.oframebust)}),n}),e.block||(e.block={}),e.blockInit||(e.blockInit=function(n,i){n=n||document,i=i||".g-js",t(n).find(i).each(function(){var n=t(this),i=this.onclick?this.onclick():{},o=i.name||"",s=e.block[o];s&&!n.data(o)&&(s.call(n,i),n.data(o,!0).addClass(o+"_js_inited"))})}),e.blockInitBinded||(e.blockInitBinded=!!t(document).ready(function(){e.blockInit()}))}(jQuery,window.Lego),function(t){var e=1,n=!1;if("deviceXDPI"in screen&&"logicalXDPI"in screen?e=screen.deviceXDPI/screen.logicalXDPI:"devicePixelRatio"in t&&(e=t.devicePixelRatio),"function"==typeof t.matchMedia){var i="only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 124dpi)";n=t.matchMedia(i).matches}else n=e>=1.3;BEM.DOM.decl("i-ua",{onSetMod:{js:function(){var t=this,e=t.__self;e.hiDpi&&t.setMod("hi-dpi","yes")}}},{dpr:e,hiDpi:n})}(window),function(){"use strict";BEM.DOM.decl("i-ua",{},{});try{BEM.blocks["i-ua"].svg=document.documentElement.className.indexOf("i-ua_inlinesvg_yes")>-1}catch(t){}}(),function(t){t||(t=window.Lego={}),t.messages=t.messages||{},t.message=function(e,n){return"ru"==t.params.locale?n:t.messages[e]||n}}(window.Lego),function(t){var e=t.event.special.leftclick={setup:function(){t(this).bind("click",e.handler)},teardown:function(){t(this).unbind("click",e.handler)},handler:function(e){e.button||(e.type="leftclick",t.event.dispatch.apply(this,arguments),e.type="click")}}}(jQuery),BEM.DOM.decl("input",{onSetMod:{js:function(){this._val=this.elem("control").val()},disabled:function(t,e){this.elem("control").attr("disabled","yes"===e)},focused:function(t,e){if(this.hasMod("disabled","yes"))return!1;var n="yes"===e;n?this._focused||this._focus():this._focused&&this._blur(),this.afterCurrentEvent(function(){this.trigger(n?"focus":"blur")})}},isDisabled:function(){return this.hasMod("disabled","yes")},val:function(t,e){if("undefined"==typeof t)return this._val;t=null===t?"":t.toString();var n=this.elem("control");return n.val()!==t&&n.val(t),this._val=t,this.trigger("change",e),this},name:function(){return this.elem("control").attr("name")},getSelectionEnd:function(){var t=this.elem("control")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var n=document.selection.createRange();if(n&&n.parentElement()===t){var i=t.value.length,o=t.createTextRange();o.moveToBookmark(n.getBookmark());var s=t.createTextRange();s.collapse(!1),e=o.compareEndPoints("EndToEnd",s)>-1?i:-o.moveEnd("character",-i)}}return e},_onFocus:function(){return this._focused=!0,this.setMod("focused","yes")},_onBlur:function(){return this._returnFocus?(this.afterCurrentEvent(function(){this._focus()}),this):this.hasMod(this.elem("clear"),"pressed")?this:(this._focused=!1,this.delMod("focused"))},_focus:function(){return this.hasMod("disabled","yes")?!1:void this.elem("control").focus()},_blur:function(){this._returnFocus=!1,this.elem("control").blur()},destruct:function(){this._blur(),this.__base.apply(this,arguments)}},{live:function(){this.liveBindTo("control","focusin focusout",function(t){this["focusin"===t.type?"_onFocus":"_onBlur"](t)})}}),function(){var t,e=[],n=function(){e.forEach(function(t){t.val(t.elem("control").val())})},i=function(t){try{return t.activeElement}catch(e){}};BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._instanceIndex=e.push(this)-1;var o=this.elem("control"),s=i(this.__self.doc[0]),r=this.params.autoFocus&&(!s||!$(s).is("input, textarea"));(s===o[0]||r)&&(this.setMod("focused","yes")._focused=!0),t||(t=this.channel("sys").on({tick:n,idle:function(){t.un("tick",n)},wakeup:function(){t.on("tick",n)}})),this.params.shortcut&&this.bindToDoc("keydown",function(t){t.ctrlKey&&38===t.which&&!$(t.target).is("input, textarea")&&this.setMod("focused","yes")})}}},val:function(t,e){var n="undefined"!=typeof t,i=this.elem("control");return t=n?null===t?"":t.toString():i.val(),this._val!==t&&(this._val=t,i.val()!==t&&i.val(t),this.trigger("change",e)),n?this:t},_focus:function(){var t=this.elem("control")[0];if(t.createTextRange&&!t.selectionStart){var e=t.createTextRange();e.move("character",t.value.length),e.select()}else t.focus()},destruct:function(){this.__base.apply(this,arguments),this.params.shortcut&&this.unbindFromDoc("keydown"),e.splice(this._instanceIndex,1),e.slice(this._instanceIndex).forEach(function(t){t._instanceIndex--})}},{})}(),function(){var t,e=0,n=!1,i=0,o=BEM.channel("sys"),s=50;BEM.decl("i-system",{},{start:function(){$(document).bind("mousemove keydown",function(){i=0,n&&(n=!1,o.trigger("wakeup"))}),this._tick()},_tick:function(){var r=this;o.trigger("tick",{counter:e++}),!n&&(i+=s)>3e3&&(n=!0,o.trigger("idle")),t=setTimeout(function(){r._tick()},s)}}).start()}(),BEM.DOM.decl("input",{onSetMod:{js:function(){this.__base.apply(this,arguments),this.on("change",this._updateClear)._updateClear()}},_onBoxClear:function(){this.hasMod("clear","visibility","visible")||this.setMod("focused","yes")},_onClearClick:function(){return this.trigger("clear"),this.removeInsets&&this.removeInsets(),this.clearInput({source:"clear"})._focus()},clearInput:function(t){return this.val("",t),this},_updateClear:function(){return this.toggleMod(this.elem("clear"),"visibility","visible","",!!this._val)}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("clear","mousedown",function(t){1===t.which&&this.setMod(this.elem("clear"),"pressed","yes")}).liveBindTo("clear","leftclick tap",function(){this.delMod(this.elem("clear"),"pressed"),this._onClearClick()}).liveBindTo("box","leftclick tap",function(){this._onBoxClear()})}}),BEM.DOM.decl("button",{onSetMod:{js:function(){var t=this.isDisabled(),e=this.domElem;(this._href=e.attr("href"))&&t&&e.removeAttr("href")},disabled:function(t,e){var n="yes"===e,i=this.domElem;this._href&&(n?i.removeAttr("href"):i.attr("href",this._href)),this.afterCurrentEvent(function(){i.attr("disabled",n)})},pressed:function(t,e){return this.isDisabled()?!1:void this.trigger("yes"===e?"press":"release")}},isDisabled:function(){return this.hasMod("disabled","yes")},url:function(t){return"undefined"==typeof t?this._href:(this._href=t,this.isDisabled()||this.domElem.attr("href",t),this)},_onClick:function(t){this.isDisabled()?t.preventDefault():this.afterCurrentEvent(function(){this.trigger("click")})}},{live:function(){this.liveBindTo("leftclick tap",function(t){this._onClick(t)})}}),BEM.DOM.decl("button",{onSetMod:{js:function(){this.__base.apply(this,arguments)},focused:{yes:function(){return this.isDisabled()?!1:(this.bindToWin("unload",function(){this.delMod("focused")}).bindTo("keydown",this._onKeyDown),this._isControlFocused()||this._getControl().focus(),void this.afterCurrentEvent(function(){this.trigger("focus")}))},"":function(){this.unbindFromWin("unload").unbindFrom("keydown"),this._isControlFocused()&&this._getControl().blur(),this.afterCurrentEvent(function(){this.trigger("blur")})}},disabled:function(t,e){this.__base.apply(this,arguments),"yes"===e&&this.domElem.keyup()},hovered:function(t,e){return this.isDisabled()?!1:void(""===e&&this.delMod("pressed"))},pressed:function(){return this.isDisabled()||this.setMod("focused","yes"),this.__base.apply(this,arguments)}},_getControl:function(){return this.elem("control").length&&this.elem("control")||this.domElem},_isControlFocused:function(){try{return this.containsDomElem($(this.__self.doc[0].activeElement))}catch(t){return!1}},_onKeyDown:function(t){var e=t.keyCode;13!==e&&32!==e||this._keyDowned||(this._keyDowned=!0,this.setMod("pressed","yes").bindTo("keyup",function(){this.delMod("pressed").unbindFrom("keyup"),delete this._keyDowned,32===e&&this.domElem.attr("href")&&(document.location=this.domElem.attr("href"))}))},destruct:function(){this.delMod("focused"),this.__base.apply(this,arguments)}},{live:function(){this.__base.apply(this,arguments);var t={mouseover:{name:"hovered",val:"yes"},mouseout:{name:"hovered"},mousedown:{name:"pressed",val:"yes"},mouseup:{name:"pressed"},focusin:{name:"focused",val:"yes"},focusout:{name:"focused"}},e=$.browser.msie&&"8.0"===$.browser.version;this.liveBindTo("mouseover mouseout mouseup focusin focusout",function(n){var i=t[n.type];this.setMod(i.name,i.val||""),!e||this._href||"mouseup"!==n.type&&"mouseout"!==n.type||this.domElem.height()}).liveBindTo("mousedown",function(e){var n=t[e.type];1===e.which&&this.setMod(n.name,n.val||"")})}}),function(){var t=function(t){var e=t.charCode||t.keyCode||t.which||0,n=t.ctrlKey||t.altKey||t.metaKey,i=e>=48&&57>=e,o=e>=96&&105>=e,s=[e>=65&&90>=e,e>=1025&&1071>=e,0===e,231===e,186===e,String.fromCharCode(e).toLowerCase()!==String.fromCharCode(e).toUpperCase()].some(Boolean);return!n&&(i||o||s)};BEM.DOM.decl({name:"input",modName:"autofocus",modVal:"capture"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.bindToDoc("keydown",this._autoFocusBind)},autofocus:{yes:function(){this.bindToDoc("keydown",this._autoFocusBind)},"":function(){this.unbindFromDoc("keydown")}},listen:{yes:function(){this.bindToDoc("keydown",this._autoFocusBind)},no:function(){this.unbindFromDoc("keydown")}}},_autoFocusBind:function(e){if(!$(".popup_visibility_visible:not(.b-topbar__popup, .suggest2), .v_sform_bg:visible, .left-banner-opened").length){var n;try{n=document.activeElement.tagName.toLowerCase()}catch(e){}if(t(e)&&"input"!==n&&"textarea"!==n){var i=this.elem("control")[0],o=this.val();if(o.length>0&&" "!==o.slice(-1)&&(o+=" ",this.val(o)),i.createTextRange){var s=i.createTextRange();s.collapse(!1),s.select()}else i.selectionStart&&(i.focus(),i.setSelectionRange(o.length,o.length));this.setMod("focused","yes")}}}})}(),BEM.DOM.decl({block:"input",modName:"keyboard",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),$(window).bind("keyboardOpened.lego",this.changeThis(function(){this.setMod("focused","yes")._focused=!0}))}},onElemSetMod:{clear:{visibility:function(t,e,n){this.hasMod("clear","yes")&&this.toggleMod("keyboard-visibility","hidden","visible"===n)}}}}),BEM.DOM.decl("keyboard-loader",{onSetMod:{js:function(){var t=this;Lego.block["keyboard-loader"].call(this.domElem,this.params),$(window).on("keyboardOpened.lego",function(){t.params.statOpen&&cp(t.params.statOpen)}).on("keyboardClosed.lego",function(e){"lego"===e.namespace&&t.params.statClose&&cp(t.params.statClose)})}}}),function(t,e){e.block["keyboard-loader"]=function(n){function i(n){t("body").removeClass("b-page_keyboard");var i=n?"addClass":"toggleClass",o=u.find(".b-keyboard-popup");if(o.length){if(u.find(".b-keyboard-popup__gap")[i]("i-hidden"),u.find(".b-keyboard-popup")[i]("i-hidden").hasClass("i-hidden")){c.trigger("keyboardClosed"),t(document).trigger("popupsClose.lego");var s=e.block["b-keyboard"]._lastFocusedIn;void 0!==s&&s.focus()}else c.trigger("keyboardOpened.lego");o.data("isHidden",!1)}}function o(){p||(e.cp(0,70873,BEM.blocks["i-global"].param("id")+"."+(n.autoLoad?"auto":"manual")),p=!0)}function s(t){return r()[t]}function r(){var e={};return t.each(window.name.split("&"),function(){if(this.toString()){var t=this.split("=");e[t[0]]=t[1]}}),e}function a(e,n){var i=r(),o=[];i[e]=n,t.each(i,function(t,e){o.push(t+"="+e)}),window.name=o.join("&")}var u=t(document.body),c=t(window),l=this,h=t(".b-topbar__popup.popup_behavior_snap"),d=h.length?h.bem("popup"):null;l.click(function(o){o.preventDefault(),d&&d._unbindFromResize();var s=(t(this),(this.className.match(/keyboard-loader_lang_(\w+)/)||["",""])[1]);if(u.find(".b-keyboard")[0])i(),d&&d._bindToResize();else{var r=BEM.blocks["i-global"].param("keyboard-path"),a=[r+"b-keyboard/_keyboard.js"],l=t.browser.msie&&(!document.documentMode||document.documentMode<9)?".ie":"",h=[r+"b-keyboard/_keyboard"+l+".css"];t.xLazyLoader({name:"b-keyboard",js:a,css:h,success:function(){e.block["b-keyboard-popup"]({lang:s,"for":n["for"]}),u.append("<div class=\"b-keyboard i-bem\" onclick=\"return {'b-keyboard': { lang:'"+s+"'}};\"></div>"),BEM.DOM.init(t(".b-keyboard")),c.trigger("keyboardOpened.lego",{afterLoad:!0}),t(".b-keyboard").on("click",".b-keyboard__key",function(){var e,n=t("*:focus").offset();n&&(e=n.top,t(".b-keyboard-popup").offset().top<e+30&&window.scrollTo(0,e-20))})}})}}),c.bind("keyboardOpen.lego",function(){l.click()}).bind("keyboardClose.lego",i),n["for"]&&c.bind("keyboardOpened.lego",function(e,i){!(i&&i.afterLoad&&n.autoLoad)&&t(n["for"]).focus()}),c.bind("keyboardLangChanged.lego keyboardSetLang.lego",function(t,e){var n=l.find(".keyboard-loader__flag");n[0]&&("tt"===e&&(e="ru"),n.attr("src",n.attr("src").replace(/[a-z]+\.png$/,e+".png")))}),n.storeState=n.storeState!==!1,n.storeState&&c.bind("keyboardOpened.lego",function(){a("keyboard_state","open");var e=s("keyboard_lang");e&&t(window).trigger("keyboardSetLang.lego",e)}).bind("keyboardClosed.lego",function(){t("body").removeClass("b-page_keyboard"),a("keyboard_state","close")}).bind("keyboardLangChanged.lego",function(t,e){a("keyboard_lang",e)});var f="#kb"===window.location.hash;(n.autoLoad=n.autoLoad||n.storeState&&"open"===s("keyboard_state")||f)&&l.click();var p;c.bind("keyboardOpened.lego",function(){o(),t("input:focus").focus(),t("body").addClass("b-page_keyboard")})}}(jQuery,window.Lego),function(t){function e(){function e(t,e){l[t](e,function(t){"error"===t?d.push(e):h.push(e)&&r.each(e),o()},"lazy-loaded-"+(r.name?r.name:(new Date).getTime()))}function i(t){r.complete(t,h,d),r[t]("error"===t?d:h),clearTimeout(a),clearTimeout(u)}function o(){h.length===f.length?i("success"):h.length+d.length===f.length&&i("error")}function s(){d.push(this.src),o()}var r,a,u,c,l=this,h=[],d=[],f=[];this.init=function(n){if(n){if(r=t.extend({},t.xLazyLoader.defaults,n),c={js:r.js,css:r.css,img:r.img},t.each(c,function(t,e){"string"==typeof e&&(e=e.split(",")),f=f.concat(e)}),!f.length)return void i("error");r.timeout&&(a=setTimeout(function(){var e=h.concat(d);t.each(f,function(n,i){-1===t.inArray(i,e)&&d.push(i)}),i("error")},r.timeout)),t.each(c,function(n,i){t.isArray(i)?t.each(i,function(t,i){e(n,i)}):"string"==typeof i&&e(n,i)})}},this.js=function(e,i){var o=t('script[src*="'+e+'"]');if(o.length)return void(o.attr("pending")?o.bind("scriptload",i):i());var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("charset","utf-8"),r.setAttribute("src",e),r.setAttribute("pending",1),r.onerror=s,t(r).bind("scriptload",function(){t(this).removeAttr("pending"),i(),setTimeout(function(){t(r).unbind("scriptload")},10)});var a=!1;r.onload=r.onreadystatechange=function(){a||this.readyState&&!/loaded|complete/.test(this.readyState)||(a=!0,r.onload=r.onreadystatechange=null,t(r).trigger("scriptload"))},n.appendChild(r)},this.css=function(e,i){if(t('link[href*="'+e+'"]').length)return void i();var o=document.createElement("link");o.setAttribute("type","text/css"),o.setAttribute("rel","stylesheet"),o.setAttribute("href",e),t.browser.msie?o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&i()}:t.browser.opera?o.onload=i:!function(){o&&o.sheet?i():u=setTimeout(arguments.callee,20)}(),n.appendChild(o)},this.img=function(t,e){var n=new Image;n.onload=e,n.onerror=s,n.src=t},this.disable=function(e){t("#lazy-loaded-"+e,n).attr("disabled","disabled")},this.enable=function(e){t("#lazy-loaded-"+e,n).removeAttr("disabled")},this.destroy=function(e){t("#lazy-loaded-"+e,n).remove()}}t.xLazyLoader=function(t,n){"object"==typeof t&&(n=t,t="init"),(new e)[t](n)},t.xLazyLoader.defaults={js:[],css:[],img:[],name:null,timeout:2e4,success:function(){},error:function(){},complete:function(){},each:function(){}};var n=document.getElementsByTagName("head")[0]}(jQuery),$(function(){BEM.afterCurrentEvent(function(){BEM.DOM.init()})}),BEM.DOM.decl("dropdown",{onSetMod:{js:function(){var t=this,e=t.params,n=t._popup=t.findBlockOn(t.elem(e.popupElem),"popup").on("show",function(){t.setMod("action","open").trigger("show")}).on("hide",function(){t.setMod("action","closed").trigger("hide")});e.popupMethods.map(function(e){t[e]=n[e].bind(n)});var i=t.params.switcherBlock,o=t.elem("switcher");i&&(t._switcher=t.findBlockOn(o,i).domElem),o.attr({"aria-haspopup":!0,"aria-expanded":!1})},action:function(t,e){this.elem("switcher").attr("aria-expanded","open"===e)}},getPopup:function(){return this._popup},getDefaultParams:function(){return{popupElem:"popup",popupMethods:["toggle","show","hide","setContent"]}},destruct:function(){this._popup&&this._popup.domElem&&this._popup.destruct.apply(this._popup,arguments),this.__base.apply(this,arguments)},_toggle:function(){this._popup.toggle(this._switcher)},_onSwitcherClick:function(){this._switcher||(this._switcher=this.elem("switcher")),this._toggle()},_onSwitcherKeyUp:function(t){if(!(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey)){var e=this.elem("switcher")[0].tagName.toLowerCase();"button"!==e&&("a"!==e&&13===t.which||32===t.which)&&(t.preventDefault(),this.params.switcherBlock||this._toggle())}}},{live:function(){this.liveBindTo("switcher","leftclick tap",function(t){this._onSwitcherClick(t)}).liveBindTo("switcher","keyup",function(t){this._onSwitcherKeyUp(t)})}}),function(t){var e,n=t.browser,i=n.opera&&n.version<13,o=n.opera&&n.version<12.1?"keypress":"keydown",s=Object.prototype.hasOwnProperty,r=BEM.DOM,a=n.msie&&n.version>=9&&n.version<10,u=function(t){try{return t.activeElement}catch(e){}};r.decl("popup",{getDefaultParams:function(){var t={left:15,right:15,top:15,bottom:15};return{directions:[{to:"bottom",axis:"center",tail:{axis:"center"}},{to:"top",axis:"center",tail:{axis:"center"}},{to:"right",axis:"middle",tail:{axis:"middle"}},{to:"left",axis:"middle",tail:{axis:"middle"}}],tail:{width:24.04,height:12.02,offset:t},duration:150}
},onSetMod:{js:function(){this._cache={},this._viewport=r.win,this._scope=r.scope,this._channel=BEM.channel("popups"),this._inContainer=!1,this._isParentFixed=!1,this._owner=null,this._userPosition=null,this._parent=null,this._childs=[],this._isShown=!1,this._isHiding=!1,this._positions={},this._currPos={},this._visibilityFactor=null,this._direction=!1,this._directions={};var t=this.getDefaultParams(),e=this.params,n=this._repackDirParams(t.directions),i=e.generateDirections?this._generateDirections:e.directions,o=this._repackDirParams(i);e.tail&&(this.params.tail=this._mergeParams(t.tail,e.tail)),this._order=o.keys.map(function(t){var e=o.directions[t],i=n.directions[t];return i||(i=n.directions[e.to]),this._directions[t]=this._mergeParams(i,e,{tail:this._tailParamsHook}),t},this)},visibility:{visible:function(){this._onShown()},"":function(){this._onHidden()}}},show:function(e){var n;if(e instanceof BEM)n=e.domElem.eq(0);else if(e instanceof t)n=e;else if(!e)return;if(n){this._owner&&n[0]!==this._owner[0]&&this.delMod("visibility"),this._owner=n;var i=this.findBlockOutside(n,"popup");i&&this.setParent(i)}else this._userPosition=e;return this.setMod("visibility","outside").repaint()},hide:function(){if(this._isHiding)return this;if(this._isShown&&(this._isHiding=!0,this._childs.forEach(function(t){t.hide()}),this.hasMod("animate","yes")&&!this.hasMod("fade-out","no"))){var t=this;return this.beforeHide(function(){t.domElem&&t.delMod("visibility")}),this}return this.delMod("visibility")},toggle:function(t){return this._isShown&&!this._isHiding?this.hide():this.show(t||this._owner)},repaint:function(){this._moveToContainer();var t=this._pickDirection();return this.setMod("to",t.to)._show(this._positions[t.key],this._tailPos&&this._tailPos[t.key]),this},repaintShadowIfNeeded:function(){return a&&this._repaintShadow(),this},getCurrPos:function(){return this._currPos},getCurrDirection:function(){return this._direction},setContent:function(t){return r.update(this.elem("content"),t),this._resetDefault(),this._isShown&&this.repaint(),this},isShown:function(){return this._isShown},setParent:function(t){return this._parent=t,this._isParentFixed=t.hasMod("position","fixed"),t.addChild(this),this},addChild:function(t){for(var e=this._childs,n=e.length,i=0;n>i;i++)if(e[i]._uniqId===t._uniqId)return;t.on("hide",function(){this.removeChild(t)},this),e.push(t)},removeChild:function(t){for(var e=this._childs,n=e.length,i=0;n>i;i++)if(e[i]._uniqId===t._uniqId)return void e.splice(i,1)},setSize:function(t){return t&&(this._resetDefault(),this.domElem.css(t),this._isShown&&!this._isHiding&&this.repaint()),this},_show:function(t,e){return this._currPos=t,e&&this.elem("tail").removeAttr("style").css(e),this.domElem.css(t),(!this._isShown||this._isHiding)&&this.hasMod("animate","yes")&&!this.hasMod("fade-in","no")&&this.afterShow(),this._isHiding=!1,this.setMod("visibility","visible"),this},_onShown:function(){this.bindToDoc(o,function(t){27===t.which&&0===this._childs.length&&this.hide()}),this._bindFocusEvents(),this._attachUnder(),this._isShown=!0,this.hasMod("autoclosable","yes")&&this.afterCurrentEvent(function(){this._enableAutoclosable()}),this.hasMod("adaptive","yes")&&this._enableAdaptive(),this._channel.on("hide",this.hide,this),this.trigger("show")},_onHidden:function(){this._unbindFocusEvents(),this.unbindFromDoc(o),this._detachUnder(),this.hasMod("autoclosable","yes")&&this._disableAutoclosable(),this.hasMod("adaptive","yes")&&this._disableAdaptive(),this._cache={},this._isShown=!1,this._isHiding=!1,this._channel.un("hide"),this._returnFocus(),this.trigger("hide")},_bindFocusEvents:function(){this._lastFocused=t(u(document)||this._scope);var e=this.__self._getFocusable(this.elem("content"));return this._firstFocusable=e.first(),this._lastFocusable=e.last(),this._skipReturnFocus=!1,0===this._firstFocusable.length?void(this._skipReturnFocus=!0):void this.bindTo(this._lastFocused,"keydown",this._onLastFocusedKeyDown).bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown).bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown)},_unbindFocusEvents:function(){this.unbindFrom(this._firstFocusable,"keydown"),this.unbindFrom(this._lastFocusable,"keydown"),this.unbindFrom(this._lastFocused,"keydown")},_onLastFocusedKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||9===t.which&&(t.preventDefault(),this[t.shiftKey?"_lastFocusable":"_firstFocusable"].focus())},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&9===t.which&&(t.preventDefault(),this._lastFocused.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||9===t.which&&(t.preventDefault(),this._lastFocused.focus())},_returnFocus:function(){var t=(this._parent||{})._skipReturnFocus||this._skipReturnFocus;t||this._lastFocused.focus()},_mergeParams:function(t,e,n){var i={};return n||(n={}),t&&"object"==typeof t&&Object.keys(t).forEach(function(e){i[e]=t[e]}),Object.keys(e).forEach(function(o){var r=s.call(n,o)?n[o].call(this,t[o],e[o]):e[o];i[o]=!r||"object"!=typeof r||Array.isArray(r)?r:t[o]?this._mergeParams(t[o],r,n):r},this),i},_tailParamsHook:function(t,e){return e.offset||(e.offset=this.params.tail.offset),"number"==typeof e.offset?{offset:{left:e.offset,top:e.offset}}:e},_generateDirections:function(){if(e)return e;for(var t=[["bottom","top"],["left","right"]],n=[["center","left","right"],["middle","top","bottom"]],i=n,o=t.length,s=[],r=0;o>r;r++)for(var a=t[r],u=a.length,c=0;u>c;c++)for(var l=n[r],h=l.length,d=0;h>d;d++)for(var f=i[r],p=f.length,m=0;p>m;m++)s.push({direction:a[c],axis:l[d],tail:{axis:f[m]}});return e=s,s},_repackDirParams:function(e){var n={},i=[];return("string"==typeof e||t.isPlainObject(e))&&(e=[e]),i=e.map(function(t){if("string"==typeof t){var e=t.split("-");t={to:e[0],tail:{}},e[1]&&(t.axis=e[1]),e[2]&&(t.tail.axis=e[2])}var i=t.to;return n[i]||(n[i]=t),t.axis&&(i+="-"+t.axis),t.key=i,n[i]=t,i},this),{directions:n,keys:i}},setViewport:function(t){return this._viewport=t,this},_pickDirection:function(){var t,e=this._order,n=this.hasMod("adaptive","yes")?e.length:1;for(this._visibilityFactor=0,t=0;n>t;t++){var i=e[t],o=this._directions[i];this._resetPos(i)._pushPos(i,this._calcPos(o))._pushPos(i,this._calcOffsets(o)),this._hasTail()&&this._resetTailPos(i)._pushTailPos(i,this._calcTailPos(o))._pushTailPos(i,this._calcTailOffset(o))._pushPos(i,this._calcOffsetByTail(o)),this._pushPos(i,this._getParentOffset());var s=this._calcVisibilityFactor(o);if((s>this._visibilityFactor||!this._direction)&&(this._visibilityFactor=s,this._direction=this._directions[i],this.size=this.getPlacingSize(),100===s))break}return this._direction},_getParentOffset:function(){var t=this.domElem.offsetParent().offset();return t.left*=-1,t.top*=-1,t},_calcPos:function(t){this._calcPlacingSize(t);var e=this.getOwnerPos(),n=this.getOwnerSize(),i=this.getPlacingSize(),o=t.axis,r=this.params.position||{},a={};switch(t.to){case"bottom":a={top:s.call(r,"top")?r.top:e.top+n.height,left:s.call(r,"left")?r.left:this._calcLeft(o)};break;case"top":a={top:s.call(r,"top")?r.top:e.top-i.height,left:s.call(r,"left")?r.left:this._calcLeft(o)};break;case"left":a={top:s.call(r,"top")?r.top:this._calcTop(o),left:s.call(r,"left")?r.left:e.left-i.width};break;case"right":a={top:s.call(r,"top")?r.top:this._calcTop(o),left:s.call(r,"left")?r.left:e.left+n.width}}return a},_calcTop:function(t){var e=0,n=this.getPlacingSize(),i=this.getOwnerPos(),o=this.getOwnerSize();return"top"===t?e+=i.top:"middle"===t?e+=i.top+o.height/2-n.height/2:"bottom"===t&&(e+=i.top+o.height-n.height),e},_calcLeft:function(t){var e=0,n=this.getPlacingSize(),i=this.getOwnerPos(),o=this.getOwnerSize();return"left"===t?e+=i.left:"center"===t?e+=i.left+o.width/2-n.width/2:"right"===t&&(e+=i.left+o.width-n.width),e},getPlacingSize:function(){return this.getPopupSize()},_calcOffsets:function(t){var e,n=this._cache.offset||(this._cache.offset={}),i=t.key,o=t.offset;if(n[i])return n[i];if(!o)return!1;if(e={left:0,top:0},"number"==typeof o)switch(i){case"left":e.left+=o;break;case"right":e.left-=o;break;case"top":e.top+=o;break;case"bottom":e.top-=o}else o.left&&(e.left+=o.left),o.right&&(e.left-=o.right),o.top&&(e.top+=o.top),o.bottom&&(e.top-=o.bottom);return n[i]=e,e},_hasTail:function(){return 0!==this.elem("tail").length},_moveToContainer:function(t){if(t)this._inContainer=!1;else{if(this._isShown)return;t=this._parent?this._parent.domElem:this._scope}this.domElem.appendTo(t),this._inContainer=!0},_resetPos:function(t){return t?this._positions[t]=null:this._positions={},this},_pushPosTo:function(t,e,n){n!==!1&&("string"==typeof e?this._sum(t[e]||(t[e]={}),n):(n=e,Object.keys(t).forEach(function(e){this._sum(t[e],n)},this)))},_pushPos:function(t,e){return this._pushPosTo(this._positions,t,e),this},_sum:function(t,e){Object.keys(e).forEach(function(n){t[n]=(t[n]||0)+e[n]})},_getSizeOf:function(t){return{height:t.outerHeight(),width:t.outerWidth()}},getOwnerSize:function(){return this._owner?this._cache.ownerSize||(this._cache.ownerSize=this._getSizeOf(this._owner)):{height:0,width:0}},getPopupSize:function(){return this._getSizeOf(this.domElem)},_getPosOf:function(t){return t.offset()||{left:0,top:0}},getOwnerPos:function(){var t;return this._owner&&(t=this._getPosOf(this._owner),"pageYOffset"in window&&(t.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),t.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft))),t||this._userPosition},_calcVisibilityFactor:function(t){var e,n,i=this._viewport,o=this._getSizeOf(i),s=this.getPopupSize(),r=this._positions[t.key],a=this._parent?this._parent.domElem.offset():{top:0,left:0},u=r.top+(this._isParentFixed?a.top:-i.scrollTop()),c=r.left+(this._isParentFixed?a.left:-i.scrollLeft()),l=c+s.width-o.width,h=u+s.height-o.height,d={height:s.height,width:s.width},f=100;return h>0&&(d.height-=h),0>u&&(d.height+=u),0>c&&(d.width+=c),l>0&&(d.width-=l),d.height<0||d.width<0?f=0:(n=Math.abs(d.height*d.width),e=s.height*s.width,e!==n&&(f=n/e*100)),f},_repaintShadow:function(){"undefined"==typeof this._repaintShadowCounter&&(this._repaintShadowCounter=0),this.domElem.css("zoom",1&++this._repaintShadowCounter)},destruct:function(){var t=arguments;return this._channel.un("hide"),this._childs.forEach(function(e){e.destruct.apply(e,t)}),this.__base.apply(this,t)},_resetDefault:function(){},_calcPlacingSize:function(){}},{live:function(){this.liveBindTo("close","leftclick tap",function(){this.hide()})},_getFocusable:function(e){var n=t.data(e,"popup-getFocusable-id");n||(n=t.identify(),t.data(e,"popup-getFocusable-id",n)),n='*[data-popup-getFocusable-id="'+n+'"]';var o=i?"":"a[href], link, ";return e.find(o+'*[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem').filter(function(){var e=t(this),i=!0;return parseInt(e.prop("tabindex"),10)<0||"hidden"===e.css("visibility")?!1:(t(this).parentsUntil(n).each(function(){var e=t(this);return"none"===e.css("display")?i=!1:void 0}),i)})}})}(jQuery),BEM.decl({block:"popup",modName:"hide-content",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments);var t=$(".main-table"),e="main-table_suggested";this.on("show",function(){t.addClass(e)}),this.on("hide",function(){t.removeClass(e)})}}}),BEM.DOM.decl("popup",{onSetMod:{autoclosable:{yes:function(){this._enableAutoclosable()},"":function(){this._disableAutoclosable()}}},_enableAutoclosable:function(){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.bindTo(t,"leftclick tap",function(t){t.stopPropagation(),this.hide()}),this.bindTo(t,"mousedown",function(){this._skipReturnFocus=!0})),this.bindToDoc("leftclick tap",function(t){if(!this._isRelatedNode($(t.target))){var e=$.Event("outside-click");this.trigger(e,t),e.isDefaultPrevented()||this.hide()}}),this.bindToDoc("mousedown",function(){this._skipReturnFocus=!0})},_disableAutoclosable:function(){this.hasMod(this._under,"type","paranja")&&this.unbindFrom(this._under,"leftclick tap mousedown"),this.unbindFromDoc("leftclick tap mousedown")},_isRelatedNode:function(t){var e=this.containsDomElem(t);if(e||(e=Boolean(this._owner)&&this.containsDomElem.call({domElem:this._owner},t)),e)return!0;var n,i=this._childs.length;for(n=0;i>n;n++)if(this.containsDomElem.call({domElem:this._childs[n].domElem},t))return!0;return!1}}),BEM.DOM.decl({block:"popup",modName:"adaptive",modVal:"yes"},{onSetMod:{adaptive:{yes:function(){this._enableAdaptive()},no:function(){this._disableAdaptive()}},"watch-scroll":{yes:function(){this._watchScroll()},no:function(){this._unwatchScroll()}}},_enableAdaptive:function(){this.bindToWin("resize",$.throttle(this.onResize,500,this))._watchScroll()},_disableAdaptive:function(){this.unbindFromWin("resize")._unwatchScroll()},getScrollEvents:function(){return["scroll"]},_watchScroll:function(){this._owner&&!this.hasMod("watch-scroll","no")&&this.bindTo(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "),$.throttle(this.onScroll,500,this),this)},_unwatchScroll:function(){this._owner&&this.unbindFromDomElem(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "))},onResize:function(){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},onScroll:function(){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},destruct:function(){this._disableAdaptive(),this.__base.apply(this,arguments)}}),BEM.DOM.decl({block:"popup",modName:"animate",modVal:"yes"},{afterShow:function(){var t=this.getCurrDirection();if(t){var e=t.to,n=this.getCurrPos(),i={opacity:1,top:n.top,left:n.left},o={opacity:0,top:n.top,left:n.left};"bottom"===e?o.top+=10:"top"===e?o.top-=10:"left"===e?o.left-=10:"right"===e&&(o.left+=10),this.domElem.stop(!0).css(o).animate(i,this.params.duration)}},beforeHide:function(t){var e=this.getCurrDirection();if(!e)return t();var n=e.to,i=this.getCurrPos(),o=this.domElem,s={top:i.top,left:i.left,opacity:0};return"bottom"===n?s.top+=10:"top"===n?s.top-=10:"left"===n?s.left-=10:"right"===n&&(s.left+=10),o.stop(!0,!0).animate(s,this.params.duration,function(){t(),o.css("opacity","")})}}),function(){var t=[];BEM.DOM.decl("popup",{onSetMod:{js:function(){this.__base.call(this);var t=this.findElem("under").first();this._underClassAttr=t.attr("class"),this.isDivEnough()?this._under=t:(t.remove(),this._under=null),this._underInPool=!1}},isDivEnough:function(){return!1},_createUnder:function(){return $('<iframe frameBorder="0" tabindex="-1" src="about:blank"/>')},_getUnder:function(){if(this._under)return this._under;var e=t.pop();return e&&(this._underInPool=!1),this._under=e||this._createUnder()},_attachUnder:function(){var t=this._under=this._getUnder();t.attr("class",this._underClassAttr),this.hasMod(t,"type","paranja")?t.detach().insertBefore(this.domElem):t.prependTo(this.domElem)},_detachUnder:function(){var e=this._under;t.push(e.detach()),this._under=null,this._underInPool=!0},destruct:function(){return this._underInPool&&t.pop(),this._under&&this._under.remove(),this.__base.apply(this,arguments)}})}(),BEM.DOM.decl("popup",{_createUnder:function(){var t,e=$(".i-ua_browser_yandexbrowser").length||$(".i-ua_browser_chromemobile").length||/(iPad|iPhone|iPod)/g.test(navigator.userAgent);if(e)return $("<div></div>");try{t=location.hostname!==document.domain}catch(n){t=!0}return $("<iframe"+($.browser.msie&&$.browser.version<9?' frameborder="0"':"")+($.browser.msie&&t?" src=\"javascript:void(function(){document.open();document.write('&lt;script&gt;document.domain=\\'"+document.domain+"\\'&lt;/script&gt;');document.close();})()\"":"")+"/>")}}),BEM.DOM.decl("popup",{onSetMod:{js:function(){this.__base(),this._tailPos={}}},_calcTailPos:function(t){var e=t.to,n=this._positions[t.key],i=t.tail.axis,o={};return"top"===e||"bottom"===e?o.left=this._calcTailLeft(i,n):("left"===e||"right"===e)&&(o.top=this._calcTailTop(i,n)),o},_calcTailTop:function(t,e){var n=0,i=this.getOwnerSize(),o=this.getOwnerPos(),s=this.params.tail.width,r=this.getPopupSize(),a=r.height,u=o.top-e.top,c=e.top+r.height-(o.top+i.height);return u>0&&(n+=u,a-=u),c>0&&(a-=c),"middle"===t?(a-=s,n+=a/2):"bottom"===t&&(a-=s,n+=a),0>n&&(n=0),n},_calcTailLeft:function(t,e){var n=0,i=this.getOwnerSize(),o=this.getOwnerPos(),s=this.params.tail.width,r=this.getPopupSize(),a=o.left-e.left,u=r.width,c=e.left+r.width-(o.left+i.width);return a>0&&(n+=a,u-=a),c>0&&(u-=c),"center"===t?(u-=s,n+=u/2):"right"===t&&(u-=s,n+=u),n},_calcOffsetByTail:function(t){var e=this.params.tail,n=e.height,i={};switch(t.to){case"top":i={top:-n};break;case"bottom":i={top:n};break;case"right":i={left:n};break;case"left":i={left:-n}}return i},_calcTailOffset:function(t){var e={},n=t.to,i=t.tail,o=i.offset,s=i.axis;return o?("top"===n||"bottom"===n?(e.left=0,"left"===s?e.left+=o.left:"center"===s?(o.left&&(e.left+=o.left),o.right&&(e.left-=o.right)):"right"===s&&(e.left-=o.right)):("left"===n||"right"===n)&&(e.top=0,"top"===s?e.top+=o.top:"middle"===s?(o.top&&(e.top+=o.top),o.bottom&&(e.top-=o.bottom)):"bottom"===s&&(e.top-=o.bottom)),e):!1},_resetTailPos:function(t){return t?this._tailPos[t]=null:this._tailPos={},this},_pushTailPos:function(t,e){return this._pushPosTo(this._tailPos,t,e),this}}),function(){BEM.DOM.decl("i-menu",{onElemSetMod:{item:{state:{current:function(t,e,n,i){if("disabled"==i)return!1;var o=this.elem("item","state","current");this.delMod(o,"state").trigger("current",{prev:o,current:t})}}}},onItemSelectorClick:function(t){var e=this._getItemByEvent(t);this.setMod(e,"state","current")},_getItemByEvent:function(t){return t.data.domElem.closest(this.buildSelector("item"))}},{live:function(){this.liveBindTo("item-selector","leftclick",function(t){this.onItemSelectorClick(t)})}})}(),BEM.DOM.decl({block:"b-menu-vert",baseBlock:"i-menu"}),BEM.DOM.decl({block:"dropdown-menu",baseBlock:"dropdown"}),function(){BEM.DOM.decl({name:"b-menu-horiz",baseBlock:"i-menu"})}(),BEM.DOM.decl("suggest2",{onSetMod:{js:{inited:function(){this.params.form||this.findBlockOutside("suggest2-form"),this._lastSubmitTime=0,this._lastBlurTime=0,this._clear()}}},getDefaultParams:function(){return{submitBySelect:!1,updateOnEnterByKeyboard:!0,onFocus:"request",requestOnEmptyInput:!1,abortQueries:!1,sequentialQueriesTimeout:!1}},destruct:function(){this.getItems().forEach(function(t){t.destruct()}),this.unbindAllEvents(),this.__base.apply(this,arguments)},init:function(){var t=this;return t.params.form.on("submit",function(e,n){t._lastSubmitTime=(new Date).getTime(),t._isActualSearchCGIParams?t._isActualSearchCGIParams=!1:"suggest2-counter"!==n.data.block&&n.data.prevent!==!1&&this.removeHiddenInputs(),t._clear(),t._popup.hide()}),t._input=t.params["suggest2-input"],t._popup=t.params["suggest2-popup"],t._model=t.initModel(),t._view=t.initView(),t._counter=t.initCounter(),t._model.on({response:this.setItems,reject:function(e,n){2===n.code&&(t._popup.hide(),t._clear())}},t),t.bindEvents(),t},initModel:function(){return BEM.create("suggest2-model",this.params)},getModel:function(){return this._model},initView:function(t,e){return BEM.create({block:"suggest2-view",mods:t||{}},e||{})},getView:function(){return this._view},initCounter:function(){return this.params.counter?this.params.counter.initValues().bindEvents():void 0},getCounter:function(){return this._counter},setDataConverter:function(t){return this.getModel().getProvider().convert=t,this},setRequestData:function(t){return this.getModel().getProvider().getRequestData=t,this},setRequestUrl:function(t){return this.getModel().getProvider().getRequestUrl=t,this},setOwner:function(t){return this._popup.owner(t),this},bindEvents:function(){var t=this;return t._input.bindEvents({change:t._onChange,focus:t._onFocus,blur:t._onBlur},t),t._popup.on({preshow:function(){t.trigger("preshow")},show:function(){t.trigger("show")},hide:function(e,n){t.trigger("hide",n)}}),t.params.form&&t.params.form.on("button-press",t._onSuggestButtonMousedown,t),BEM.blocks["suggest2-item"].on(t.domElem,{"link-click":function(e,n){t._counter&&"_self"===$(n.$e.target).attr("target")&&n.$e.preventDefault()}}),t},_onSuggestButtonMousedown:function(){this._input.realVal(this._input.val()),this._popup.hide()},unbindAllEvents:function(){var t=this;return t._input.unbindAllEvents(),t.params.form.un("submit"),t._model.un("response").un("reject"),t._popup.un("preshow").un("show").un("hide"),t.params.form&&t.params.form.un("button-press",t._onSuggestButtonMousedown,t),t},setItems:function(t,e){var n=this,i=e.data.items||[];return n._isFormSubmitDurinQuery()||!i.length?(n._popup.hide(),n._clear()):this.params.sequentialQueriesTimeout||n._input.val()===e.val?(n._text=e.val,n._pos=e.pos,n._meta=e.data.meta||{},n._popup.show(n._view.html(i,n._meta)).width(n.getPopupWidth()),n._items=n.findBlocksInside("suggest2-item"),n._clearItems().trigger("update",{val:n._text,pos:n._pos,items:n._items}),n):n._clear()},getItems:function(){return this._items||[]},isBlur:function(){return this._isBlur&&!this._isMouseDown},getPopupWidth:function(){},getInputWidth:function(){},isNeedSubmitFormOnSelectItem:function(t){return this.params.submitBySelect&&"link"!==t.getMod("interact")},_isFormSubmitDurinQuery:function(){return this._lastSubmitTime?(this._model.filterRequestsByVal(this._input.realVal()),this._model.isTimeInRequestInterval(this._lastSubmitTime)):!1},_onChange:function(t,e){this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition(),e)},_onFocus:function(){!this._popup.isShown()&&this._isBlur&&this.params.onFocus&&this._isLastBlurTimeLater(50)&&(this.getItems().length&&this._input.val()===this._text?(this._clearItems(),this._popup.show()):this._isMouseDown||"request"!==this.params.onFocus||this._onChange())},_onBlur:function(){this._isBlur?(this._clear(),this._popup.hide()):this._freezeInputFocus?(this._clear(),this._input.focus()):this._isMouseDown&&this._input.focus(),this._lastBlurTime=(new Date).getTime(),this._isBlur=!0},_getItemIndex:function(t){return this.getItems().indexOf(t)},_clear:function(){return this._isBlur=!0,this._freezeInputFocus=!1,this._clearItems()},_clearItems:function(){return this._isMouseDown=!1,this._enterItemIndex=-1,this._unselectItems()},_isLastBlurTimeLater:function(t){return(new Date).getTime()-this._lastBlurTime>t},_unselectItems:function(t){var e=t?[].slice.call(arguments):this.getItems();return e.forEach(function(t){t.onLeave()}),this},_onSelectItem:function(t,e){var n=this,i=n._getItemIndex(t),o=t.onSelect(e),s=t.valOnSelect();return n._text=n._input.realVal(s),n._isBlur=!0,n._freezeInputFocus=!1,n._setSearchCGIParams(t),n.trigger("select",{val:n._text,pos:n._pos,item:t,meta:n._meta,itemIndex:i,byKeyboard:e,callbackOnSelect:o}),s!==!1&&(n._items=[],this.isNeedSubmitFormOnSelectItem(t)&&n.params.form.submit()),i},_isActualSearchCGIParams:!1,_setSearchCGIParams:function(t){this.params.form.removeHiddenInputs(),t.params.searchCGI&&(this._isActualSearchCGIParams=!0,this.params.form.appendHiddenInputs(t.params.searchCGI.map(function(t){return{name:t[0],value:t[1]}})))},_onDownItem:function(){this._isBlur=!1,this._isMouseDown=!0}}),BEM.DOM.decl("suggest2",{bindEvents:function(){var t=this;return t._input.bindEvents({keydown:t._onKeyDown,keyup:t._onKeyUp,keypress:t._onKeyPress,mousedown:function(){t._input.isFocused()&&t._onFocus()}},t),BEM.blocks["suggest2-item"].on(t.domElem,{mouseover:function(e){t._onEnterItem(e.block,!1)},mouseout:function(e,n){var i=e.block.domElem[0];i===n.relatedTarget||$.contains(i,n.relatedTarget)||t._onLeaveItem(e.block,!1)},mousedown:function(){t._onDownItem()},leftclick:function(e){t._onSelectItem(e.block,!1)}}),t.__base.apply(t,arguments)},_onKeyDown:function(t){var e=this.__self.keyboard,n=t.which;!this._popup.isShown()||n!==e.up&&n!==e.down||(t.preventDefault(),this._enterByKeyboard(n))},_onKeyUp:function(t){var e=this.__self.keyboard;if((t.which===e.left||t.which===e.right)&&(this.trigger("change-cursor-pos"),this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition())),t.which===e.right&&~this._enterItemIndex&&this._enterItemByKeyboard){var n=this._items[this._enterItemIndex];n&&this.trigger("ahead",{item:n,val:"link"===n.getMod("interact")?n.elem("text").text():n.val()})}},_onKeyPress:function(t){if(t.which===this.__self.keyboard.enter&&~this._enterItemIndex&&this._enterItemByKeyboard){var e=this._items[this._enterItemIndex];e&&(t.preventDefault(),this._onSelectItem(e,!0))}},_enterByKeyboard:function(t){var e=t-39,n=this._items.length,i=this._enterItemIndex+e;return-1===i||i===n?(this._enterItemIndex=i,this._unselectItems(this._items[i]),this.trigger("out",{val:this._text,byKeyboard:!0})):(0>i?i=n-1:i>=n&&(i=0),void this._onEnterItem(this._items[i],!0))},_onEnterItem:function(t,e){this._enterItemIndex=this._getItemIndex(t),this._enterItemByKeyboard=e,this._unselectItems(),t.onEnter(e)},_onLeaveItem:function(t){this._clearItems()._unselectItems(t)}},{keyboard:{enter:13,left:37,up:38,right:39,down:40},live:function(){this.liveBindTo("mousedown",function(){this._onDownItem()})}}),BEM.decl("suggest2-model",{onSetMod:{js:{inited:function(){this._requests=[]}}},destruct:function(){this._provider&&this._provider.destruct(),this.__base.apply(this,arguments)},getProvider:function(){return this._provider?this._provider:(this._provider=this.setProvider(this.params),this._provider)},setProvider:function(t){return this._provider=BEM.create("suggest2-provider",t),this._provider},getCancelRequestConditions:function(){return[{block:"suggest2",show:!1},{block:"suggest2",event:"select"},{block:"suggest2-item",event:"select"},{block:"suggest2",event:"out"},{block:"suggest2-item",show:!1},{block:"suggest2-popup",event:"hide"},{suggest:!1},{source:"sample"}]},request:function(t,e,n){var i=this,o={val:t,caretPosition:e,data:n};i._requests.push(o);var s=i._isNeedRequest(t,n);return s.need?(o.requestTime=(new Date).getTime(),i.trigger("request",{val:t,pos:e}),i.getProvider().get(t,e,function(t,e,n){o.responseTime=(new Date).getTime(),i._onResponse(t,e,n);var s=i._requests[i._requests.length-1];i.params.sequentialQueriesTimeout&&s.val!==t&&i.request(s.val,s.caretPosition,s.data)}),i):i.trigger("reject",{val:t,pos:e,code:s.code,reason:s.reason||{}})},isTimeInRequestInterval:function(t){for(var e=this._requests.length-1;e>=0;e--)if(t>this._requests[e].requestTime&&t<this._requests[e].responseTime)return!0;return!1},filterRequestsByVal:function(t){this._requests=this._requests.filter(function(e){return e.val===t})},_isNeedRequest:function(t,e){if(""===t&&!this.params.requestOnEmptyInput)return{need:!1,code:2};var n;if(this.params.sequentialQueriesTimeout)for(n=this._requests.length-1;n>=0;n--){var i=this._requests[n];if(void 0===i.responseTime&&(new Date).getTime()-i.requestTime<this.params.sequentialQueriesTimeout)return{need:!1,code:3,reason:{request:i}}}if(!e)return{need:!0};var o,s=this.getCancelRequestConditions();t:for(n=0;n<s.length;n++){o=s[n];for(var r in o)if(o.hasOwnProperty(r)&&o[r]!==e[r])continue t;return{need:!1,code:1,reason:{condition:o}}}return{need:!0}},_onResponse:function(t,e,n){this.trigger("response",{val:t,pos:e,data:n})}}),BEM.DOM.decl("suggest2-detect",{onSetMod:{js:{inited:function(){this.bindToDoc("keydown",function(t){this.__self._pressedKeyCode=t.which},this).bindToDoc("keyup",function(){this.__self._pressedKeyCode=null},this),this.__self.isSupportInlineSVG()||this.setMod("inlinesvg","no")}}}},{_pressedKeyCode:null,isPressedEscape:function(){return 27===this._pressedKeyCode},_isSupportInlineSVG:null,isSupportInlineSVG:function(){if(null!==this._isSupportInlineSVG)return this._isSupportInlineSVG;var t=document.createElement("div");return t.innerHTML="<svg/>",this._isSupportInlineSVG="http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI),this._isSupportInlineSVG}}),function(){"use strict";BEM.DOM.decl("suggest2-detect",{},{isSupportInlineSVG:function(){return this._isSupportInlineSVG||(this._isSupportInlineSVG=$("html").hasClass("i-ua_inlinesvg_yes")),this._isSupportInlineSVG}})}(),function(t){if(t.support.cors||!t.ajaxTransport||!window.XDomainRequest)return t;var e=/^(https?:)?\/\//i,n=/^get|post$/i,i=new RegExp("^(//|"+location.protocol+")","i");return t.ajaxTransport("* text html json",function(o,s){if(o.crossDomain&&o.async&&n.test(o.type)&&e.test(o.url)&&i.test(o.url)){var r=null;return{send:function(e,n){var i="",a=(s.dataType||"").toLowerCase();r=new XDomainRequest,/^\d+$/.test(s.timeout)&&(r.timeout=s.timeout),r.ontimeout=function(){n(500,"timeout")},r.onload=function(){var e="Content-Length: "+r.responseText.length+"\r\nContent-Type: "+r.contentType,i={code:200,message:"success"},o={text:r.responseText};try{if("html"===a||/text\/html/i.test(r.contentType))o.html=r.responseText;else if("json"===a||"text"!==a&&/\/json/i.test(r.contentType))try{o.json=t.parseJSON(r.responseText)}catch(s){i.code=500,i.message="parseerror"}}catch(u){throw u}finally{n(i.code,i.message,o,e)}},r.onprogress=function(){},r.onerror=function(){n(500,"error",{text:r.responseText})},s.data&&(i="string"===t.type(s.data)?s.data:t.param(s.data)),r.open(o.type,o.url),r.send(i)},abort:function(){r&&r.abort()}}}}),t}(jQuery),BEM.decl("suggest2-provider",{getDefaultParams:function(){return{cache:!1,type:"GET",dataType:"jsonp",timeout:2e3}},_lastQuery:null,get:function(t,e,n){var i=this,o=this.params.abortQueries,s=function(){n.call(i,t,e,i.convert(i._lastData))};return i._lastText===t?this._lastQuery.always(s):(i._lastText=t,o&&null!==this._lastQuery&&this._lastQuery.abort(),void(this._lastQuery=$.ajax(i._extendParamsData(i.getRequestData(t,e))).done(function(t){i._lastData=t,o&&s()}).fail(function(){i._lastData=[]}).always(function(){o||s()})))},convert:function(t){return{orig:t[0],items:t[1],meta:t[2]}},getRequestData:function(t,e){var n={};return BEM.blocks["suggest2-detect"].isSupportInlineSVG()&&(n.svg=1),$.extend({part:t,pos:e},n)},getRequestUrl:function(){return this.params.url},_extendParamsData:function(t){return this.params.url=this.getRequestUrl(),this.params.data=$.extend(this.params.data||{},t),this.params},_lastText:void 0,_lastData:[]}),BEM.decl("suggest2-view",{html:function(t,e){return BEMHTML.apply(this.build(t,e))},build:function(t,e){return{block:"suggest2",elem:"content",mods:{theme:"normal"},content:this.buildItems(t,e)}},buildItems:function(t){return t.reduce(function(t,e){return t.push(this.buildItem(e)),t}.bind(this),[])},buildItem:function(t){var e=this.__self._getPrefs(t),n=this.__self._getType(t,e),i="html"===n||"bemjson"===n?{}:{type:n};return this._getItemByType(t,e,n,{text:{elem:"text",content:this.__self._highlight(this.__self._getText(t,e),e)},mods:i,js:e.js||{},props:{},content:[]})},_getItemByType:function(t,e,n,i){var o=i.text,s=i.mods,r=i.js,a=i.props,u=i.content;if(e.pers&&(s.personal="yes"),"fact"===n)u.push(o,{elem:"bullet"},{elem:"fact",content:t[2]});else if("weather"===n)u.push(o,{elem:"icon",elemMods:{weather:t[3]}},{elem:"fact",content:t[2]});else if("traffic"===n)u.push(o,{elem:"icon",elemMods:{traffic:t[3]}},{elem:"fact",content:t[2]});else if("nav"===n)r.val=t[1],s.interact="link",a.url=this.__self._resolveUrl(t[4]),u.push({elem:"text",content:t[3]},{elem:"bullet"},{elem:"fact",content:t[2]});else if("icon"===n){var c={};e.icon.forEach(function(t,e,n){Array.isArray(t)?c[t[0]]=t[1]:0===e&&(c[t]=n[e+1])}),u.push(o,$.extend({elem:"icon",elemMods:{type:"favicon"}},c)),e.fact&&u.push({elem:"fact",content:e.fact})}else"html"===n?(r.val=t[1],u.push(e.body)):"bemjson"===n?(r.val=t[1],u=u.concat(e.bemjson)):u.push(o);return e.url&&(s.interact="link",a.url=this.__self._resolveUrl(e.url),e.target&&(a.target=e.target)),e.search_cgi&&(r.searchCGI=e.search_cgi),$.extend({block:"suggest2-item",mods:s,js:r,content:u},a)}},{_getPrefs:function(t){if(!Array.isArray(t))return{};var e=t[t.length-1];return $.isPlainObject(e)?e:{}},_getType:function(t,e){var n=Array.isArray(t)?t[0]||"text":"text";
return"icon"!==n||e.icon?n:"text"},_getText:function(t){return Array.isArray(t)?t[1]:t},_highlight:function(t,e){if(!e.hl)return t;var n,i=e.hl.sort(function(t,e){return t[0]-e[0]}).filter(function(t){return t[0]>=0}),o=[],s=0;return i.length?(i.forEach(function(e){n=s>e[0]?s:e[0],o.push(t.slice(s,n)),o.push({elem:"highlight",content:t.slice(n,s=e[1])})},this),o.push(t.slice(s)),o.filter(function(t){return!!t})):t},_resolveUrl:function(t){return(/[\/]{2}/.test(t)?"":"http://")+t}}),BEM.decl("suggest2-view",{},{_getGroupType:function(t,e){return t.pers?"nah":~["nav"].indexOf(e)?e:"text"},_getTextLabel:function(t){return BEM.I18N("suggest2",t)}}),BEM.decl("suggest2-popup",{onSetMod:{js:{inited:function(){this._popup=this.params.popup,this._popup.on("hide",function(){BEM.blocks["suggest2-detect"].isPressedEscape()&&this.trigger("hide",{})},this),this.bindSuggestEvents()}}},show:function(t){return this._popup.domElem?(t&&this._popup.setContent(t),this.isShown()?this:(this.trigger("preshow"),this._popup.show(this.params.owner),this.trigger("show"),this)):this},hide:function(t){return this.isShown()&&(this._popup.hide(),this.trigger("hide",t||{})),this},setContent:function(t){return this._popup.setContent(t),this},isShown:function(){return this._popup?this._popup.isShown():!1},owner:function(t){return t?(this.params.owner=t,this):this.params.owner},getOwnerPos:function(){return this._popup.getOwnerPos()||{}},get:function(){return this._popup},width:function(t){return void 0===t?this._popup.domElem.outerWidth():(this._popup.domElem.outerWidth(t),this)},destruct:function(){this._popup&&(this.unbindAllEvents(),this.__base.apply(this,arguments))},bindSuggestEvents:function(){return this.params.suggest.on({select:function(t,e){this.hide(e)},update:function(t,e){e.items.length||this.hide({response:"empty"})}},this),this},unbindAllEvents:function(){return this.params.suggest.un("select").un("update"),this}}),BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t._input=t.params.input,t.disableBrowserAutocomplete(),t.realVal(t.val()),t.bindEvents({change:function(e,n){t.trigger("change",n)},clear:$.throttle(function(e,n){t.trigger("clear",n)},300)},t),t.bindSuggestEvents()}}},destruct:function(){this.unbindAllEvents(),this.__base.apply(this,arguments)},get:function(){return this._input},isFocused:function(){return this._input.hasMod("focused")},focus:function(){return this._input.setMod("focused","yes"),this},blur:function(){return this._input.delMod("focused"),this},getControl:function(){return this._input.elem("control")},val:function(){return this._input.val.apply(this._input,arguments)},valWithoutSuggest:function(t,e){return this._input.val.call(this._input,t,$.extend(e,{suggest:!1}))},realVal:function(t){return void 0===t?this._realVal:("string"==typeof t&&(this._realVal=t),this._realVal)},width:function(){return this._input.domElem.width()},getCaretPosition:function(){var t,e=this.getControl()[0],n=this.val().length;return document.selection?(t=document.selection.createRange(),t.moveStart("character",-n),t.text.length):"number"==typeof e.selectionStart?e.selectionStart:n},moveCaretToEnd:function(){var t=this.getControl()[0],e=t.value.length;if("number"==typeof t.selectionStart)t.scrollLeft=999999,t.setSelectionRange(e,e);else if("undefined"!=typeof t.createTextRange){var n=t.createTextRange();n.collapse(!1),n.select()}return this},disableBrowserAutocomplete:function(){var t=this._input.hasMod("focused");t&&this._input.delMod("focused"),this.getControl().attr({autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-autocomplete":"list"}),t&&this._input.setMod("focused","yes")},_bindedEventsNames:[],bindEvents:function(t,e){return Object.keys(t).forEach(function(n){-1===this._bindedEventsNames.indexOf(n)&&this._bindedEventsNames.push(n),this._eventsFilter(n).on(n,t[n].bind(e||this))},this),this},bindSuggestEvents:function(){var t=this.params.suggest;return t.on({out:function(t,e){this.a11yDeactive(),this._changeValueByEvent(t,e)}},this),BEM.blocks["suggest2-item"].on(t.domElem,{tpah:function(t,e){this._changeValueByEvent(t,e),this.moveCaretToEnd()},select:function(t,e){"link"!==t.block.getMod("interact")&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())},enter:function(t,e){this.a11yActive(e.id),e.byKeyboard&&this.params.updateOnEnterByKeyboard&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())}},this),this},unbindAllEvents:function(){return this._input.domElem&&this._bindedEventsNames.forEach(function(t){var e=this._eventsFilter(t);e[e instanceof BEM.DOM?"un":"off"](t)},this),this._bindedEventsNames=[],this.params.suggest.un("out"),this},a11yActive:function(t){this.getControl().attr("aria-activedescendant",t)},a11yDeactive:function(){this.getControl().removeAttr("aria-activedescendant")},_eventsFilter:function(t){return~["blur","focus","change","clear"].indexOf(t)?this._input:this.getControl()},_changeValueByEvent:function(t,e){var n=e&&void 0!==e.val?e.val:this.realVal();this.val(n,$.extend({block:t.block.__self.getName(),event:t.type},e))}}),BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.bindEvents({keydown:function(t){t.which===this.params.suggest.__self.keyboard.enter&&this.trigger("enter")}},this)}}}}),BEM.DOM.decl("suggest2-item",{val:function(){if(void 0!==this.params.val)return this.params.val;var t=this.elem("text");return(t.length?t:this.domElem).text()},valOnSelect:function(){return this.val()},valOnEnter:function(){return this.val()},valOnLeave:function(){return this.val()},onEnter:function(t){return this.setMod("selected","yes").triggerEvent("enter",{val:this.valOnEnter(),byKeyboard:t})},onLeave:function(t){return this.delMod("selected").triggerEvent("leave",{val:this.valOnLeave(),byKeyboard:t})},onSelect:function(t){this.triggerEvent("select",{val:this.valOnSelect(),byKeyboard:t})},triggerEvent:function(t,e){return this.trigger(t,{val:e.val,id:this.domElem.attr("id"),show:!1,byKeyboard:e.byKeyboard})}}),BEM.DOM.decl("suggest2-item",{},{live:function(){this.liveBindTo("mouseover mouseout mousedown leftclick",function(t){this.trigger(t.type,t)}).liveBindTo("link","leftclick",function(t){this.trigger("link-click",{$e:t})})}}),BEM.DOM.decl({block:"suggest2",modName:"theme",modVal:"normal"},{getPopupWidth:function(){return this._input.width()}}),BEM.DOM.decl({block:"suggest2",modName:"footer",modVal:"hide"},{init:function(){var t;this.__base.apply(this,arguments),this._footerStates=Array(this.__self._getEntities().length),this._resetStates(),t=this._popup.get(),t.on("show",this._updateFooter,this),this.on("update",this._updateFooter),t.on("hide",this._showFooter,this),this.bindToWin("resize",$.throttle(this._updateFooter,100))},_resetStates:function(){var t,e=this._footerStates,n=e.length;for(t=0;n>t;t++)e[t]=!1},_updateFooter:function(){var t=this._popup.get(),e=this;if(t.isShown()){var n=t.domElem.offset().top+t.getPopupSize().height,i=this.__self._getEntities(),o=e._footerStates,s=!0,r=function(t){var e=$(this),i=e.offset().top<n;i!==o[t]&&(o[t]=i,e.css("visibility",i?"hidden":"")),o[t]||(s=!1)};i.each(r),$(".b-line__mfooter").css("visibility",s?"hidden":"")}},_showFooter:function(){this._resetStates(),this.__self._getEntities().add(".b-line__mfooter").css("visibility","")}},{_getEntities:function(){return $(".b-line__informers,.b-line__worldwide,.informers2")}}),BEM.DOM.decl({block:"suggest2",modName:"adaptive",modVal:"yes"},{init:function(){this.__base.apply(this,arguments),this._boundResizeHandler=this._resizeHandler.bind(this),this.__self._bindToWinResize(this._boundResizeHandler)},_resizeHandler:function(){this._popup.width(this.getPopupWidth())},destruct:function(){this.__self._unbindFromWinResize(this._boundResizeHandler),this._boundResizeHandler=null,this.__base.apply(this,arguments)}},{_resizeCallbacks:[],_bindToWinResize:function(t){return this._resizeCallbacks.push(t),this},_unbindFromWinResize:function(t){for(var e=0;e<this._resizeCallbacks.length;e++)if(this._resizeCallbacks[e]===t)return this._resizeCallbacks.splice(e,1),this;return this},_getResizeCallback:function(){return $.throttle(function(){var t=arguments;this._resizeCallbacks.forEach(function(e){e.apply(this,t)},this)},300,this)},live:function(){this.__base.apply(this,arguments),this._resizeCallback=this._getResizeCallback(),BEM.DOM.win.on("resize",this._resizeCallback)}}),BEM.DOM.decl({block:"suggest2",modName:"adaptive",modVal:"yes"},{init:function(){this.__base.apply(this,arguments),this.hasMod("theme","large")&&this.__self._bindToWinResize(this.updateItemMinWidth.bind(this))},_itemMinWidth:0,updateItemMinWidth:function(){var t=this.__base.apply(this,arguments);return t!==this._itemMinWidth&&(this._itemMinWidth=t,this.findElem("content").css("min-width",t)),t}}),BEM.DOM.decl("suggest2-form",{onSetMod:{js:{inited:function(){this._isReady=!1,this._nodes=this.initNodes()}}},getDefaultParams:function(){return{inputName:"input",buttonName:"button",popupName:"popup"}},destruct:function(){this._nodes.forEach(function(t){t.suggest.domElem&&BEM.DOM.destruct(t.suggest.domElem),this.unbindFormEvents(t),t.proxies.input.destruct(),t.proxies.popup.destruct()},this),this.__base.apply(this,arguments)},getOwner:function(){},isReady:function(){return this._isReady},initNodes:function(){var t=this.getNodes();return t.forEach(function(t){t.suggest.init()}),this._isReady=!0,this.trigger("ready",{nodes:t}),t},getNodes:function(){return this.getNodeList().map(function(t){var e=t.suggest,n=e.params;return n.input=t.input,n.button=t.button,n.form=this,t.proxies={},t.proxies.popup=n["suggest2-popup"]=BEM.create("suggest2-popup",{suggest:e,popup:e.findBlockOn(this.params.popupName),owner:this.getOwner(t)||n.input}),t.proxies.input=n["suggest2-input"]=BEM.create("suggest2-input",{suggest:e,input:n.input,updateOnEnterByKeyboard:n.updateOnEnterByKeyboard}),t.counter&&(t.counter.params.suggest=e,t.counter.params.form=this,n.counter=t.counter),this.bindFormEvents(t),t},this)},bindFormEvents:function(t){var e=this;return t.button&&t.button.on("click press",function(t){e.trigger("button-"+t.type,t)}),e.bindTo("submit",function(t,n){e.onSubmit(t,n)}),e},unbindFormEvents:function(t){var e=this;return t.button&&t.button.un("click press"),e.unbindFrom("submit"),e},submit:function(t){return this.domElem.trigger("submit",t||{}),this},onSubmit:function(t,e){t.data=e||{},t.data.reqID=this.__self._generateReqID(),this.trigger("submit",t)},getNodeList:function(){var t=this,e=[];return t.elem("node").each(function(n,i){var o=$(i),s=t.findBlockInside(o,"suggest2"),r={input:t.findElem(o,"input"),button:t.findElem(o,"button")};e.push({node:o,suggest:s,counter:t.findBlockOn("suggest2-counter"),input:t.findBlockOn(r.input,t.params.inputName),button:t.findBlockOn(r.button,t.params.buttonName),popup:s.findBlockOn(t.params.popupName)})}),e},appendHiddenInputs:function(t){return BEM.DOM.append(this.domElem,BEMHTML.apply(t.map(function(t){return{block:this.__self.getName(),elem:"hidden-input",tag:"input",attrs:{type:"hidden",name:t.name,value:t.value}}},this))),this},removeHiddenInputs:function(){return BEM.DOM.destruct(this.findElem(this.domElem,"hidden-input")),this}},{_generateReqID:function(){var t=BEM.blocks["i-global"]&&BEM.blocks["i-global"].param("yandexuid")?BEM.blocks["i-global"].param("yandexuid"):this._random(9)+this._random(9);return t+(+new Date).toString().slice(-7)+this._random(7)},_random:function(t){return Math.random().toString().slice(2,Math.min(t,10)+2)}}),function(){"use strict";BEM.DOM.decl("suggest2-form",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._reqId=this.__self._generateReqID()}}},onSubmit:function(t,e){t.data=e||{},t.data.reqID=this._reqId,this.trigger("submit",t)}})}(),BEM.DOM.decl({block:"suggest2-form",modName:"stats",modVal:"yes"},{onSetMod:{js:function(){this.__base(),this._initCounters()}},_prepareCounterStats:function(t){var e=[];try{e.push(t.since_last_change),e.push(t.since_first_change),e.push(t.user_input.length),e.push(t.ratio.actionsCount),e.push(t.path.index),e.push("button_by_mouse"===t.path.submit?"1":"0"),e.push("edit"===t.path.state?"1":"0")}catch(n){return""}return e.join(",")},_bindCounters:function(){var t,e=this,n=e.findBlockInside("suggest2"),i=n.getCounter();i&&i.on("submit",function(n,i){var o;t&&t.remove(),o=e._prepareCounterStats(i),o&&(t=$("<input>",{type:"hidden",name:"csg",value:o}),e.domElem.append(t))})},_initCounters:function(){this.isReady()?this._bindCounters():this.on("ready",this._bindCounters)}}),function(){"use strict";BEM.DOM.decl({block:"suggest2-form",modName:"prefetch"},{onSetMod:{js:function(){this.__base(),this._initPrefetch()}},_prefetchQuery:function(t){var e=this._getParams(t),n=this;n._prefetchStarted[t]||(n._prefetchStarted[t]=!0,$.ajax({url:n.domElem.attr("action")+n._serializeFormParams(e),success:function(){n._prefetchLoaded[t]=!0},cache:!0}))},_bindPrefetch:function(){var t=this,e=!1;t._input=t.findBlockInside("input"),t._prefetchStarted={},t._prefetchLoaded={},window.sessionStorage&&(t.domElem.on("submit",function(){var n=t._input.val();t._prefetchStarted[n]&&(e||(e=!0,t.domElem.append('<input type="hidden" name="prefetch" value="1">'),t._prefetchLoaded[n]||t.domElem.append('<input type="hidden" name="unfinished" value="1">'))),window.sessionStorage.setItem("x",(new Date).getTime())}),"etalon"!==t.getMod("prefetch")&&t.findBlockInside("suggest2").getModel().on("response",function(e,n){var i,o=n&&n.data,s=o&&o.meta&&"yes"===o.meta.instant;if(s&&o.items.length){if("ahead"===t.getMod("prefetch"))i=o.meta&&o.orig&&o.meta["continue"]&&o.orig+o.meta["continue"];else{if("prop"===t.getMod("prefetch")){if(o.meta.prefetch)for(var r=0,a=o.meta.prefetch.length;a>r;++r)t._prefetchQuery(o.meta.prefetch[r]);return}i=o.items[0]instanceof Array?o.items[0][1]:o.items[0]}if(!i)return;t._prefetchQuery(i)}}))},_initPrefetch:function(){this.isReady()?this._bindPrefetch():this.on("ready",this._bindPrefetch)},_getParams:function(t){var e=this.domElem.find("input"),n=[];return e.each(function(){var e=$(this),i=e.prop("name");i&&n.push({name:e.prop("name"),value:"text"===i?t:e.val()})}),n.push({name:"suggest_reqid",value:this._reqId}),n.push({name:"prefetch",value:1}),n},_serializeFormParams:function(t){for(var e=[],n=0;n<t.length;++n)e.push(encodeURIComponent(t[n].name)+"="+encodeURIComponent(t[n].value));return"?"+e.join("&")}})}(),BEM.DOM.decl("suggest2-counter",{onSetMod:{js:{inited:function(){this.clear()}}},destruct:function(){this.unbindAllEvents()},getDefaultParams:function(){return{submitBySelect:!1,suggestReqID:!1,preventSubmit:!0,host:"//yandex.ru",path:"clck/jclck",dataUrl:"http://ya.ru",params:{},timeout:300}},metaProps:{exprt:"exprt",r:"region",log:"log"},clear:function(){var t=this;return t._params={user_input:"",text:""},t._times=[],t._path={service:t.params.service,state:"not_shown",index:0,personal:"nah_not_shown",submit:""},t._ratio={len:0,queryLen:0,actionsCount:0},t._firstChange=0,t._lastChange=0,t._sinceChange={first:0,last:0},t._selectedText="",t._session=0,t._reqID=0,t._meta={},t._afterSendAjaxCallback,t},submit:function(t){var e=this,n=e.params.suggest.params["suggest2-input"],i=n.val();e._params.text=i,e._params.pos=n.getCaretPosition(),e._selectedText&&e._selectedText!==e._params.text&&(e._path.state="edit"),e.sendAjax(e.getUrl(),$.extend({submitForm:!0,afterSendAjaxCallback:function(){}},t)),e.trigger("submit",e._getSubmitEventData()).clear(),e._params.prev_query=i},_getSubmitEventData:function(){var t=this;return{path:t._path,times:t._times,prev_query:t._params.prev_query,user_input:t._params.user_input,text:t._params.text,pos:t._params.pos,ratio:t._ratio,since_first_change:t._sinceChange.first,since_last_change:t._sinceChange.last,session:t._session,suggest_reqid:t._reqID,meta:t._meta,url:t.getUrl()}},sendAjax:function(t,e){return $.ajax({type:"GET",url:t,dataType:"script",timeout:this.params.timeout,cache:!0}).always(this._sendAjaxAlways.bind(this,e)),this},afterSendAjax:function(t){return this._afterSendAjaxCallback=t,this},getUrl:function(){return this.params.host+["/",this.params.path].concat(this._getUrlParams()).join("/").replace(/(\/+)/g,"/")},_sendAjaxAlways:function(t){this.params.preventSubmit&&t.submitForm&&this.params.form.submit({block:this.__self.getName(),prevent:!1}),t.afterSendAjaxCallback(),this._afterSendAjaxCallback&&this._afterSendAjaxCallback()},_getUrlParams:function(){var t=this;return this._getParamsList().concat(t._getData()).reduce(function(e,n){return e.concat(t._getParams(n))},[]).concat(["/"])},_getParamsList:function(){var t=this;return[t.params.params,t._getPath(),t._params,t._getRatio(),t._getSinceChange(),t._getSession(),{suggest_reqid:t._reqID}]},initValues:function(){return this._params.prev_query=this.params.suggest.params["suggest2-input"].val(),this},attachReqID:function(){this.params.form.appendHiddenInputs([{name:"suggest_reqid",value:this._reqID}])},bindEvents:function(){var t,e=this,n=e.params,i=n.suggest;return n.form.on("button-click",function(){"keyboard"!==e._path.submit&&(e._path.submit="button_by_mouse")}),n.form.on("submit",function(t,i){i.data.block!==e.__self.getName()&&i.data.prevent!==!1&&(n.preventSubmit&&(i.stopImmediatePropagation(),i.preventDefault()),e._reqID=i.data.reqID,n.suggestReqID&&e.attachReqID(),e.submit())}),i.getModel().on({request:function(){t=new Date},response:function(n,i){i.data.items&&(e._path.personal=e._hasPersonal(i.data.items)?"nah_not_used":"nah_not_shown",e._meta=i.data.meta||{},e._addTime(new Date-t),e._setMetaProps(i))}}),i.params["suggest2-input"].on({change:function(t,n){n&&"clear"!==n.source||(e._params.user_input=t.block.val(),e[e._firstChange?"_lastChange":"_firstChange"]=new Date),e._ratio.actionsCount++},enter:function(){e._path.submit="keyboard"}}),i.params["suggest2-popup"].on({show:function(){e._path.state="not_used"},hide:function(t,n){"empty"===n.response&&(e._path.state="not_shown")}}),BEM.blocks["suggest2-item"].on(i.domElem,{enter:function(t,n){n.byKeyboard&&e.params.suggest.params.updateOnEnterByKeyboard&&(e._selectedText=n.val,e._path.state="suggest")}}),i.on({select:function(t,o){e._path.state=o.byKeyboard?"keyboard":"mouse",e._path.index=o.itemIndex+1,e._selectedText=o.val,o.item.hasMod("personal")&&(e._path.personal="nah_used"),n.submitBySelect&&(e._path.submit=o.byKeyboard?"keyboard":"click_by_mouse",e._params.pos=o.pos,e._params.text=e._selectedText),i.isNeedSubmitFormOnSelectItem(o.item)||e.submit({submitForm:!1,afterSendAjaxCallback:o.callbackOnSelect})}},e),e},unbindAllEvents:function(){var t=this.params,e=t.suggest;return t.form.un("button-click").un("submit"),e.getModel().un("request").un("response"),e.params["suggest2-input"].un("change").un("enter"),e.params["suggest2-popup"].un("show").un("hide"),e.un("select"),this},_hasPersonal:function(t){return t.some(function(t){return 1===BEM.blocks["suggest2-view"]._getPrefs(t).pers})},_setMetaProps:function(t){t.data.meta&&Object.keys(this.metaProps).forEach(function(e){this._params[this.metaProps[e]]=t.data.meta[e]||""},this)},_getParams:function(t){return Object.keys(t).reduce(function(e,n){return""===t[n]?e:(e.push(n+"="+encodeURIComponent(t[n]).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%2C/g,",")),e)},[])},_getPath:function(){return{path:[this._path.service,this._path.state,"p"+this._path.index,this._path.personal,this._path.submit].join(".")}},_getSession:function(){return this._session=(new Date).getTime()+Math.round(1e4*Math.random()),{session:this._session}},_getSinceChange:function(){return{since_first_change:this._getSinceTime("first"),since_last_change:this._getSinceTime("last")}},_getSinceTime:function(t){var e="_"+t+"Change";return this._sinceChange[t]=this[e]?(new Date).getTime()-this[e]:0,this._sinceChange[t]},_getRatio:function(){return this._ratio.len=this._params.user_input.length,this._ratio.queryLen=this._params.text.length,{ratio:[this._ratio.len,this._ratio.queryLen,this._ratio.actionsCount].join(".")}},_addTime:function(t){return this._times.push(t),this._params.times=this._times.join("."),this},_getData:function(){return{"*data":"url="+this.params.dataUrl}}}),BEM.DOM.decl({block:"suggest2-item",modName:"interact",modVal:"link"},{onSelect:function(t){var e=this;e.__base.apply(e,arguments);var n=e.elem("link");return t||"_self"===n.attr("target")?function(){e._locationChange(n.attr("href"))}:void 0},_locationChange:function(t){window.location=t},valOnSelect:function(){return!1}}),function(t){var e=/\[%\s([^%]+)\s%\]/g;t.template=function(t,n){n=n||{};try{var i=t.replace(/'/g,"\\'").replace(e,function(t,e){return n.hasOwnProperty(e)?"'+(hash.hasOwnProperty(\""+e+'")?hash["'+e+'"]:"'+n[e]+"\")+'":"'+(hash.hasOwnProperty(\""+e+'")&&typeof(hash["'+e+"\"])!='undefined'?hash[\""+e+"\"]:'')+'"});return new Function("hash","return '"+i+"'")}catch(o){debug&&debug("template make failed:",t,i)}},t.getClasses=function(t,e,n){var i,o=t;if(n&&(o+=" "+n),e)for(i in e)e.hasOwnProperty(i)&&e[i]&&(o+=" "+t+"_"+i+"_"+e[i]);return o},t.getAttrs=function(t){if(!t)return"";var e,n="";for(e in t)t.hasOwnProperty(e)&&(n+=" "+e+'="'+t[e]+'"');return n},t.getJsParams=function(t){return JSON.stringify(t||{}).replace(/"/g,"'")},t.decline=function(t,e){return e&&e.length?0===t&&e[3]?e[3]:e[1]||e[2]?e[2]?(t%=100,t>=20&&(t%=10),1===t?e[0]:t>1&&5>t?e[1]:e[2]):t>=0&&1>=t?e[0]:e[1]:e[1]:e}}(ya),function(){var t=function(){this.serverDate=null,this.prevDay=null,this.loadDate=null,this.parent=null,this.placeHolders={date:null,day:null,month:null,wday:null,time:null,h:null,m:null},this.flicker={timePH:null,init:function(t){this.timePH=t},blink:function(){$(this.timePH).toggleClass("b-datetime__time_hidden")}},this.timeTemplate=null};t.prototype._norm=function(t){return t>9?""+t:"0"+t},t.prototype.MinutesDiff=function(t,e,n){var i=60*t.getUTCHours()+t.getUTCMinutes()-60*e.getHours()-e.getMinutes();return Math.abs(i)>1440-n&&(i-=24*Math.sign(i)*60),i},t.prototype.iterate=function(){{var t=new Date,e=new Date(this.serverDate.getTime()+(t.getTime()-this.loadDate.getTime())),n=e.getDay();this.MinutesDiff(e,t,15)}0===e.getUTCHours()&&0===e.getUTCMinutes()&&this.prevDay!==n&&(this.placeHolders.date.length>0&&(this.placeHolders.date.replaceWith(this.timeTemplate({title:"",day:e.getUTCDate(),month:this.locale.month[e.getUTCMonth()],wday:this.locale.week[n]})),this.placeHolders.date=$(".b-datetime__date",this.parent)),this.prevDay=n,$(window).trigger({type:"morda.nextDay",date:e.getUTCDate(),month:this.locale.month[e.getUTCMonth()],wday:this.locale.week[n],monthServer:e.getUTCMonth(),day:n})),this.placeHolders.h.html(this._norm(e.getUTCHours())),this.placeHolders.m.html(this._norm(e.getUTCMinutes()))},t.prototype.init=function(t,e){if(e){if(this.parent=e,$(this.parent).hasClass("b-datetime__inited"))return;if($(this.parent).addClass("b-datetime__inited"),this.serverDate=new Date(home.getData("b-datetime.date")+" GMT+0000"),this.loadDate=new Date,this.timeTemplate=home.template(this.infoDate),this.serverDate&&"Invalid Date"!==this.serverDate&&!isNaN(this.serverDate)){this.placeHolders.date=$(".b-datetime__date",e),this.placeHolders.day=$(".b-datetime__day",e),this.placeHolders.month=$(".b-datetime__month",e),this.placeHolders.wday=$(".b-datetime__wday",e),this.placeHolders.time=$(".b-datetime__time",e),this.placeHolders.h=$(".b-datetime__hour",this.placeHolders.time),this.placeHolders.m=$(".b-datetime__min",this.placeHolders.time),this.flicker.init($(".b-datetime__time b",e)),this.iterate();var n=this;this.intervalId=setInterval(function(){n.iterate(),n.flicker.blink()},1e3)}}},window.home.MordaClock=t}(),$(function(){var t=home.getData("b-change-time.settings");if(!t)return!1;var e=new home.MordaClock;e.locale={},e.locale.month=t.monthArr,e.locale.week=t.weekArr,e.infoDate=t.template,e.init(t.timestamp,$(".b-datetime"))}),x.amd.define("statlog",function(){var t,e=null,n=null,i="/dtype",o="%s/session_id=%s/events=%s/*",s=!1,r={},a={statRoot:null,enabled:!1,showId:null,statDataAttr:"statlog",dataNoRedirKey:"statlog-noredir",doc:null,skipReadyKey:!1,sendAtWill:!0,dataReadyKey:"statlog-ready",statRedirEvent:"mousedown",statNoRedirEvent:"click",skipVisibleCheck:!1,clckDemonHost:"//clck.yandex.ru/",debounceDelay:1e3,logUniqueShow:!1,clickCounter:function(t,e){e=e||null,window.cp(a.statRoot+"."+t,e)}},u=function(){return e||n},c=function(){var t=[];return u()?(e&&t.push({event:"show","parent-path":a.statRoot,blocks:e.children}),n&&t.push({event:"click","parent-path":a.statRoot,blocks:n.children}),JSON.stringify(t)):""},l=function(t,e){var n=e.prop("href");n.indexOf(a.clckDemonHost)>-1?clearTimeout(e.data("statlog-timeout")):e.data("statlog-original-href",n).attr("href",location.protocol+a.clckDemonHost+"redir/dtype=clck/lid="+t+"/sid="+a.showId+"/rnd="+((new Date).getTime()+Math.round(100*Math.random()))+"/*data="+encodeURIComponent("url="+encodeURIComponent(n.match(/^http/)?n:location.protocol+"//"+location.host+(n.match("^/")?n:"/"+n)))),e.data("statlog-timeout",setTimeout(function(){e.attr("href",e.data("statlog-original-href"))},500))},h=function(){s||(s=!0,a.enabled&&$(a.doc||document).on(a.statRedirEvent+" "+a.statNoRedirEvent,"*[data-"+a.statDataAttr+"]",function(t){var e=$(this),n=e.data(a.statDataAttr),i=a.statRoot+"."+n,o=e.attr("href"),s=e.data(a.dataNoRedirKey)||!o;n&&(s&&t.type===a.statNoRedirEvent?window.cp?window.cp(i,null):f(n,"click"):o&&t.type===a.statRedirEvent&&l(i,e)),e.data("statlog-instant")&&m()}))},d=function(t,e){var n=t;x.forEach(e.split("."),function(t){var e=function(e){return e.ctag===t};n.children||(n.children=[]);var i=x.filter(n.children,e);i.length||n.children.push({ctag:t}),n=x.filter(n.children,e)[0]})},f=function(t,i){if(i||(i="show"),"undefined"!=typeof t&&a.enabled){if("show"===i){if(a.logUniqueShow&&t in r)return;e=e||{},r[t]=!0}else n=n||{};d("show"===i?e:n,t),a.sendAtWill&&_()}},p=function(t){if($.support.cors)$.ajax({type:"POST",url:a.clckDemonHost+"counter/",data:i+"="+t});else{var e=(new Date).getTime()+(Math.random()+"").substring(2),n="statlog_"+e,o=$('<div class="statlog__iframe"></div>'),s=$("<form></form>",{action:a.clckDemonHost+"counter/",method:"POST",target:n});s.append($("<input>",{type:"hidden",name:i,value:t}));var r=$("<iframe></iframe>",{name:n});o.append(s,r),$("body").append(o),s.submit(),r.on("load",function(){setTimeout(function(){o.remove()},2e3)})}},m=function(){var t;u()&&a.showId&&(t=x.stringf(o,"clck",a.showId,c()),g(),p(t))},_=function(){t||(t=x.debounce(m,a.debounceDelay)),t()},g=function(){e=null,n=null};return{isEnabled:function(){return a.enabled},getParams:function(){return a},configure:function(t){a=x.beget(a,t)},handleClicks:h,log:f,checkAndLog:function(){a.enabled&&this.logByFragment({})},logByFragment:function(t){var e=x.beget(a,t),n=this,i="data-"+e.statDataAttr,o=i.substr(5),s="*["+i+"]",r=e.doc?$(e.doc).find(s):$(s);$(r).each(function(){if(e.skipVisibleCheck||$(this).is(":visible")){if(!i.match(/^data-/))throw new Error("data attribute expected as statAttr");var t=$(this).data(o);(e.skipReadyKey||!$(this).data(e.dataReadyKey))&&(n.log(t),$(this).data(e.dataReadyKey,t))}})},dumpDATA:c,send:m,clearStatData:g}}),Carousel.prototype.init=function(t,e){var n,i=home.localStorage.getItem("relaunchPromoItem"),o=i?(Number(i)||0)+1:0,s={};void 0!==e&&(o=e),this.params=t,this.itemsParent=$(".carousel").removeClass("i-hidden").fadeIn(800),$(".carousel__button-area-left, .carousel__button-area-right",this.itemsParent).removeClass("i-hidden");for(var r=0,a=t.items.length;a>r;r++)n=t.items[r],n._index=r,n._autoPlay=!0,n._angle=(r-o)*(360/a)*Math.PI/180,n._item=this.itemParams,n._static=t.staticUrl,n._action=t.action,n._videoStat=this.params.videoStats[n.id],n._csl=t.csl,n._device=t.device,s[n.id]=!1,this.items.push(new CarouselItem(n,this.itemsParent));home.localStorage.getItem("relauncPromoWatcedVideos")||home.localStorage.setItem("relauncPromoWatcedVideos",JSON.stringify(s)),this.draw(),this.addEvents()},Carousel.prototype.addEvents=function(){var t=this;$(".carousel__button-area-left",this.itemsParent).click(function(){t.moveLeft()}),$(".carousel__button-area-right",this.itemsParent).click(function(){t.moveRight()}),$(".relaunch__promo-hide").click(function(){var e=400,n=t.getActiveItem();n.stopVideo(!0),t.itemsParent.addClass("i-hidden"),home.localStorage.setItem("relaunchPromoBlock",+new Date),$(".tabs").fadeOut(e,function(){$(this).detach().appendTo(".b-layout .b-line__center").fadeIn(e),$(".b-page").removeClass("b-page_promo-relaunch b-page_promo-relaunch_video")}),t.params.csl&&((new Image).src=t.params.csl)}),window.chrome&&this.params.win&&$(".relaunch__promo-defsearch").click(function(e){var n=Lego.params.statRoot;csh_ifgsid(n+".promo.video."+t.getActiveItem().params.id+".sethomeinline"),$(document.head).append($("<link />").attr({rel:"chrome-webstore-item",href:t.params.chromeUrl})),window.chrome.webstore.install(t.params.chromeUrl,function(){t.getActiveItem().hideSubtitles(),csh_ifgsid(n+".promo.video."+t.getActiveItem().params.id+".sethomeinline.accept")},function(){t.getActiveItem().hideSubtitles(),csh_ifgsid(n+".promo.video."+t.getActiveItem().params.id+".sethomeinline.cancel")}),e.preventDefault()})},Carousel.prototype.getActiveItem=function(){for(var t=0,e=this.items.length;e>t;t++)if(this.items[t].currActive)return this.items[t];return this.items[0]},Carousel.prototype.loop=function(){if(this.moving){var t=Date.now()-this.lastTime;this.angle+=this.mult*t/(1e3/this.speed),(this.mult>0&&this.angle>this.nextAngle||this.mult<0&&this.angle<this.nextAngle)&&(this.angle=this.nextAngle,this.moving=!1),this.draw();var e=this;requestAnimationFrame(function(){e.loop()})}},Carousel.prototype.draw=function(){var t,e,n=[];for(t=0,e=this.items.length;e>t;t++)n.push({index:t,pos:this.items[t].draw(this.angle)});for(n.sort(function(t,e){return e.pos.y-t.pos.y}),t=0,e=n.length;e>t;t++)this.items[n[t].index].setIndex(t,!this.moving&&t===e-1);setTimeout(function(){$(".carousel").addClass("carousel_visible")},550)},Carousel.prototype.moveRight=function(){this.moving||this.move(1)},Carousel.prototype.moveLeft=function(){this.moving||this.move(-1)},Carousel.prototype.move=function(t){this.mult=t,this.nextAngle+=360*this.mult/this.items.length,this.moving=!0,this.lastTime=Date.now(),this.loop()},$(function(){if(!home.localStorage.getItem("relaunchPromoBlock")){var t,e=home&&home.getData&&home.getData("carousel.data");if(e){var n=400,i=function(n){t.init(e,n)},o=function(t,e){$(".tabs").fadeOut(n,function(){$(this).detach().appendTo(".b-line__bar .b-line__bar__center").fadeIn(n),$(".b-page").removeClass("b-page_promo-relaunch_static").addClass("b-page_promo-relaunch_video"),x.amd.require("statlog",function(t){i(e.id),t.checkAndLog()})})};t=new Carousel,e.hidden?BEM.channel("sys").on("showCarousel",o):i(),window.carousel=t}}}),CarouselItem.prototype.init=function(){this.elem=$('<div class="carousel__item carousel__item-'+this.params.id+'"></div>'),this.parent.append(this.elem),this.addImage()},CarouselItem.prototype.draw=function(t){var e=t*Math.PI/180,n=180*Math.PI/180,i=e+this.params._angle-n,o=this.params._item.ellipseX*Math.sin(i),s=this.params._item.ellipseY*Math.cos(i),r=this.params._item.scale+(1-this.params._item.scale)*(this.params._item.ellipseY-s)/(2*this.params._item.ellipseY),a=this.params._item.width*r,u=this.params._item.height*r;return o+=this.params._item.centerX,s+=this.params._item.centerY,this.elem[0].style.left=Math.floor(o-a/2)+"px",this.elem[0].style.bottom=Math.floor(s)+"px",this.elem[0].style.width=Math.floor(a)+"px",this.elem[0].style.height=Math.floor(u)+"px",{x:o,y:s}},CarouselItem.prototype.setIndex=function(t,e){this.elem[0].style.zIndex=t,e?this.currActive||(this.currActive=e,this.elem.addClass("carousel__item_active"),this.lastIndex=-1,this.addVideo(),home.localStorage.setItem("relaunchPromoItem",this.params._index)):this.currActive&&(this.currActive=e,this.elem.removeClass("carousel__item_active"),this.hideSubtitles(),this.stopVideo(!0),!this.video&&this.nextSubtitleTimer&&clearTimeout(this.nextSubtitleTimer))
},CarouselItem.prototype.addImage=function(){this.elem.append('<img class="carousel__item-img" src="'+this.params._static+"top/"+this.params.id+'.jpg"></img>')},CarouselItem.prototype.addControls=function(){this.elem.append('<div class="carousel__item-play"></div><div class="carousel__item-pause"></div><div class="carousel__item-controls-bg"></div><div class="carousel__item-controls-area"></div>');var t=this;$(".carousel__item-controls-area",this.elem).click(function(){t.playing?t.stopVideo(!1):t.startVideo()})},CarouselItem.prototype.startVideo=function(){this.playing||(this.playing=!0,this.elem.addClass("carousel__item_playing"),this.video&&this.video.addClass("carousel__item-video__visible"),this.playVideo(),this.markWatched())},CarouselItem.prototype.playVideo=function(){if(this.playing)if(this.video)if(this.videoInited)this.video[0].play(),this.addSubtitles();else{var t=this;this.runVideoTimer=setTimeout(function(){t.playVideo()},200)}else this.addSubtitles()},CarouselItem.prototype.stopVideo=function(t){this.playing=!1,this.elem.removeClass("carousel__item_playing"),t&&this.video&&this.video.removeClass("carousel__item-video__visible"),this.pauseVideo(t)},CarouselItem.prototype.pauseVideo=function(t){this.videoInited?(this.video[0].pause(),t&&(this.video[0].currentTime=0)):this.runVideoTimer&&(clearTimeout(this.runVideoTimer),this.runVideoTimer=null)},CarouselItem.prototype.markWatched=function(){var t=home.localStorage.getItem("relauncPromoWatcedVideos");try{t&&(t=JSON.parse(t),t[this.params.id]=!0,this.checkWatched(t),home.localStorage.setItem("relauncPromoWatcedVideos",JSON.stringify(t)))}catch(e){}},CarouselItem.prototype.checkWatched=function(t){for(var e in t)if(t.hasOwnProperty(e)&&!t[e])return!1;return(new Image).src=this.params._csl,!0},CarouselItem.prototype.addVideo=function(){if(this.video)return void(this.videoInited&&this.params._autoPlay&&this.currActive&&this.startVideo());if(this.params._device&&this.params._autoPlay&&this.currActive)return void this.startVideo();if(!this.params._device){var t=document.createElement("video");if(t&&t.canPlayType){this.video=$('<video class="carousel__item-video" poster="'+this.params._static+"top/"+this.params.id+'.jpg" '+this.params._videoStat.show+'><source src="'+this.params._static+this.params.id+'.mp4" type="video/mp4"><source src="'+this.params._static+this.params.id+'.ogv" type="video/ogg"></video>'),this.videoInited=!1;var e=this;this.video.one("canplay canplaythrough",function(){this.videoInited||(e.videoInited=!0,e.params._autoPlay&&e.currActive&&e.startVideo())}),this.elem.append(this.video),x.amd.require("statlog",function(t){t.checkAndLog()}),this.addControls()}}},CarouselItem.prototype.addSubtitles=function(){var t=this,e=this.params.texts,n=e.length;if(-1===this.lastIndex&&$(".carousel__action",this.parent).addClass("i-hidden"),this.video)this.video.addClass("carousel__item-video__visible"),this.video.unbind("timeupdate").bind("timeupdate",function(){if(t.playing){for(var i=1e3*t.video[0].currentTime,o=0,s=0;n>s;s++)i>e[s].time&&o++;o=Math.max(-1,o-1),t.showSubtitles(o,o===n-1)}}),this.video.unbind("ended").bind("ended",function(){t.playing=!1,t.elem.removeClass("carousel__item_playing"),t.video.removeClass("carousel__item-video__visible"),t.lastIndex=-1});else{var i=this.lastIndex+1,o=0===i?0:e[i-1].time;if(i>n-1)return;this.nextSubtitleTimer=setTimeout(function(){t.showSubtitles(i,i===n-1)},e[i].time-o)}},CarouselItem.prototype.showSubtitles=function(t,e){if(!(0>t||t===this.lastIndex)){$(".carousel__subtitles",this.parent).removeClass("i-hidden");var n=$(".carousel__subtitles-text",this.parent);n.removeClass("carousel__subtitles-text__in-move").addClass("carousel__subtitles-text__out");var i=this;setTimeout(function(){n.removeClass("carousel__subtitles-text__out").addClass("carousel__subtitles-text__in").html(i.params.texts[t].text),setTimeout(function(){n.addClass("carousel__subtitles-text__in-move").removeClass("carousel__subtitles-text__in"),e&&setTimeout(function(){var e=150;i.params.texts[t].text.length>50&&(e+=600);var n=$(".carousel__action-"+i.params._action,i.parent);n.addClass("carousel__subtitles-text__in").removeClass("i-hidden"),$(".relaunch__promo-"+i.params._action,n).data("statlog","promo.video."+i.params.id+".sethome"),x.amd.require("statlog",function(t){t.checkAndLog()}),setTimeout(function(){n.addClass("carousel__subtitles-text__in-move").removeClass("carousel__subtitles-text__in")},e)},250)},150)},150),this.lastIndex=t,this.video||e||this.addSubtitles()}},CarouselItem.prototype.hideSubtitles=function(){$(".carousel__subtitles",this.parent).addClass("i-hidden"),$(".carousel__subtitles-text",this.parent).html(""),$(".carousel__action",this.parent).addClass("i-hidden")},$(function(){"use strict";var t=$(".b-page");return home.localStorage.getItem("relaunchPromoBlock")?void t.removeClass("b-page_promo-relaunch_static b-page_promo-relaunch"):void x.amd.require("statlog",function(e){var n=$(".promo-relaunch").removeClass("i-hidden"),i=n.data("id"),o={block:function(){t.removeClass("b-page_promo-relaunch_static b-page_promo-relaunch"),home.localStorage.setItem("relaunchPromoBlock",+new Date),this.hide()},hide:function(){n.addClass("promo-relaunch_faded")},showCarousel:function(){BEM.channel("sys").trigger("showCarousel",{id:i}),this.hide()}};n.on("click",".promo-relaunch__button_yes",function(){o.showCarousel()}).on("click",".promo-relaunch__button_no",function(){o.block()}),e.checkAndLog()})}),function(t){"use strict";for(var e=["ms","moz","webkit","o"],n=0;n<e.length&&!t.requestAnimationFrame;++n)t.requestAnimationFrame=t[e[n]+"RequestAnimationFrame"];if(void 0===t.requestAnimationFrame){var i,o=[],s=+new Date,r=0,a=function(){var t=o;o=[],r=+new Date,i=0;for(var e=0,n=t.length;n>e;e++)t[e](r-s)};t.requestAnimationFrame=function(e){if(o.push(e),!i){var n=+new Date,s=Math.max(0,16-(n-r));i=t.setTimeout(a,s)}return i},t.requestAnimationFrame.fallback=!0}}(this),function(t){var e,n;try{e=t.localStorage,n="ya_ls_test",e.setItem(n,"1"),"1"!==e.getItem(n)?e=null:e.removeItem(n)}catch(i){e=null}var o=t.home||(t.home={}),s=t.console&&function(t){console.log(t)}||function(){},r=function(t){var e="localStorage is disabled. "+(t?t:"");s(e)},a=function(t){try{return t()}catch(e){r(e)}};e?o.localStorage={setItem:function(t,n){return a(function(){return e.setItem(t,n)})},getItem:function(t){return a(function(){return e.getItem(t)})},removeItem:function(t){return a(function(){return e.removeItem(t)})},clear:function(){return a(function(){return e.clear()})},key:function(t){return a(function(){return e.key(t)})}}:(o.localStorage={removeItem:r,setItem:r,getItem:r,clear:r},o.disabledLS=!0)}(window),function(t){var e=/\[%\s([^%]+)\s%\]/g;t.template=function(t,n){n=n||{};try{var i=t.replace(/'/g,"\\'").replace(e,function(t,e){return n.hasOwnProperty(e)?"'+(hash.hasOwnProperty(\""+e+'")?hash["'+e+'"]:"'+n[e]+"\")+'":"'+(hash.hasOwnProperty(\""+e+'")&&typeof(hash["'+e+"\"])!='undefined'?hash[\""+e+"\"]:'')+'"});return new Function("hash","return '"+i+"'")}catch(o){debug("template make failed:",t,i)}}}(home),BEM.DOM.decl("link",{getDefaultParams:function(){return{origTabindex:"0"}},onSetMod:{disabled:function(t,e){var n="yes"===e;this.domElem.attr({"aria-disabled":n,tabindex:n?-1:this.params.origTabindex})}}}),BEM.DOM.decl({name:"link",modName:"pseudo",modVal:"yes"},{_onClick:function(t){t.preventDefault(),this.hasMod("disabled","yes")||this.afterCurrentEvent(function(){this.trigger("click")})},_onKeyUp:function(t){t.shiftKey||t.ctrlKey||t.altKey||(13===t.which||32===t.which)&&(this.hasMod("disabled","yes")||this.afterCurrentEvent(function(){this.trigger("click")}))}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo({modName:"pseudo",modVal:"yes"},"leftclick tap",function(t){this._onClick(t)}).liveBindTo({modName:"pseudo",modVal:"yes"},"keyup",function(t){this._onKeyUp(t)})}}),x.amd.require("statlog",function(t){BEM.DOM.decl("b-sethome",{onSetMod:{js:function(){var t=this,e=this.__self;return t.on=e._hasStorage(),t.on?void(e._hasBlock()||(t.bindTo("close","leftclick",function(){t.domElem.addClass("i-hidden"),e._blockSetHome()}),t.domElem.removeClass("i-hidden"))):(t.elem("close").addClass("i-hidden"),void t.domElem.removeClass("i-hidden"))}}},{_hasStorage:function(){return!home.disabledLS},_blockSetHome:function(){home.localStorage.setItem("shforbidden",1)},_hasBlock:function(){return!!home.localStorage.getItem("shforbidden")}}),BEM.DOM.decl({name:"b-sethome",modName:"type",modVal:"common"},{onSetMod:{js:function(){this.__base(),!this.on||this.__self._hasBlock()}}}),BEM.DOM.decl({name:"b-sethome",modName:"type",modVal:"ff"},{onSetMod:{js:function(){function t(){n.popupa.hide(),$(document).unbind("focus",t),n.dragIcon.unbind("mousedown",e)}function e(){setTimeout(function(){$(document).focus(t)},500)}if(this.__base(),this.on&&!this.__self._hasBlock()){var n=this;n.dropdown=n.findBlockInside("dropdown"),n.popupa=n.findBlockInside({block:"popupa",modName:"sethome",modVal:"fx"}),n.dragIcon=$(".b-sethome__drag-icon"),n.popupa.on({show:function(){n.dragIcon.bind("mousedown",e)},hide:function(){$(document).unbind("focus",t),n.dragIcon.unbind("mousedown",e)}})}}}}),BEM.DOM.decl({name:"b-sethome",modName:"type",modVal:"ie"},{onSetMod:{js:function(){if(this.__base(),this.on&&!this.__self._hasBlock()){var t=this;t.homeUrl=t.params.homeUrl,t._getHomePage(),t.bindTo("link","leftclick",function(){t._setHomePage()})}}},_setHomePage:function(){try{return document.body.style.behavior="url(#default#homepage)",document.body.setHomePage(this.homeUrl),this._getHomePage(),!1}catch(t){}},_getHomePage:function(){var t=document.body,e=Lego.params["lang-zone"]||"ru";return t.style.behavior="url(#default#homepage)",t.isHomePage("http://yandex."+e+"/")||t.isHomePage("http://www.yandex."+e+"/")||t.isHomePage(this.homeUrl)?(this.setMod("show","bar"),!0):void 0}}),BEM.DOM.decl({name:"b-sethome",modName:"type",modVal:"chrome"},{onSetMod:{js:function(){var e=this;e.__base(),e.on&&!e.__self._hasBlock()&&e.bindTo("link","leftclick",function(){return window.chrome.webstore.install("",function(){e.domElem.addClass("i-hidden"),t.log("head.sethome.chrome_ext.yes")},function(){t.log("head.sethome.chrome_ext.no")}),!1})}}})}),function(){function t(){var t=document.visibilityState||document.webkitVisibilityState||document.msVisibilityState;return"prerender"===t}function e(){return"//"+(BEM.blocks["i-global"].param("click-host")||"clck.yandex.ru")+"/click"}function n(){var t,n="/dtype=stred/pid=1/cid=72202";n+="/reqid="+c.reqid,n+="/path=690.1033";var o={1036:l.domainLookupStart-h,1037:l.domainLookupEnd-l.domainLookupStart,1038:l.connectEnd-l.connectStart,1039:l.responseStart-l.requestStart,1040:l.responseEnd-l.responseStart,1040.318:l.responseEnd-h};for(t in m)m[t]>0?o[t]=Math.min(d*p,m[t]):0===m[t]&&(o[t]=d*p);for(t in c.vars)c.vars.hasOwnProperty(t)&&(o[t]=c.vars[t]);for(t in o)o[t]<0&&delete o[t];o[1042]=encodeURIComponent(navigator.userAgent),n+="/vars="+i(o),n+="/slots="+(u("exp.data")||"")+"/*",(new Image).src=e()+n}function i(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+"="+t[n]);return e.join(",")}function o(){var e=-1;if(t())return e;if(window.chrome&&"function"==typeof window.chrome.loadTimes&&h){var n=window.chrome.loadTimes();e=n.firstPaintTime?Math.floor(1e3*n.firstPaintTime)-h:0}return e}function s(){var e=-1;return t()?e:("undefined"!=typeof l.msFirstPaint&&(e=l.msFirstPaint?l.msFirstPaint-h:0,l.msFirstPaint&&l.responseStart&&l.msFirstPaint<l.responseStart&&(e=-1)),e)}function r(){if(m[1051]>0){if(m[1041.659]>0)return!0;if(m["1041.660"]>0)return!0}}function a(){++f,m[1041.659]=s(),m["1041.660"]=o(),m[1041.659]>0?m[1041.318]=m[1041.659]:m["1041.660"]>0&&(m[1041.318]=m["1041.660"]),m[1041.318]>0&&(m[1041.906]=m[1041.318]-(l.domainLookupStart-h),m[1041]=m[1041.318]-(l.responseStart-h)),c||(c=u("b-timing.data")),c&&(r()||f===p)?n():setTimeout(a,d)}function u(t){return home&&home.getData&&home.getData(t)}var c,l=window.performance&&window.performance.timing;if(l&&l.navigationStart){var h=l.navigationStart,d=1e3,f=0,p=100,m={1041.659:-1,"1041.660":-1,1041:-1,1041.906:-1,1041.318:-1,1051:0};$(function(){m[1051]=+new Date-h}),setTimeout(a,d)}}(),function(t){t.getData=function(e,n){var i,o,s,r,a="export",u=e.split("."),c=u.length;if(c>1){for(o=t[a]||{},s=0;c>s;s++)if(i=u[s],o=o[i],"undefined"==typeof o)return"undefined"==typeof o?n:o;return"undefined"==typeof o?n:o}return a="export",r=t&&t[a]&&t[a][e],"undefined"==typeof r?n:r}}(home),window.ya=window.ya||{},ya.history=window.history&&history.pushState?function(){return{navigate:function(t){t=t||{},t.url&&(t.title||(t.title=""),t.data||(t.data=""),t.replace?history.replaceState(t.data,t.title,t.url):history.pushState(t.data,t.title,t.url))},onchange:function(t){$(window).on("popstate",function(e){t.call(this,e.originalEvent)})}}}():null,function(){"use strict";function t(){var t=home&&home.getData&&home.getData("i-change-url.data");if(t){var e=t.url;if(e&&ya.history){var n=home&&home.getData&&home.getData("mordaFromCache.data");if(n){var i=n.lastClid;document.location.search.indexOf("?clid="+i)>-1&&($("form.search input[name='clid']").length||$("form.search").append('<input type="hidden" name="clid" value="'+i+'">'))}ya.history.navigate({data:{page:"morda"},url:e,replace:!0})}}}window.$?$(t):t()}(),BEM.DOM.decl({name:"i-flashcookie",modName:"type",modVal:"inline"},{onSetMod:{js:function(){Lego.block["i-flashcookie"].call(this.domElem,this.params)}}}),function(){var t=Lego.block["i-flashcookie"],e=function(t){function e(t,e){return'<param name="'+t+'" value="'+e+'" />'}function n(t,e){return" "+t+'="'+e+'"'}function i(t,e,n){var i=t.match(e);return i&&i[n+1?n:1]||""}function o(){return i(d.cookie,new RegExp("fuid"+u+"=([^;]+)"))}function s(){var t=d.domain;return t&&i(t,/[^.]+\.[^.]{2,3}(\.tr)?$/,0)}t||(t={});var r,a,u,c,l=t.host||"kiks.yandex",h=window,d=document,f=navigator,p=f.userAgent,m=f.mimeTypes,_=9,g=p&&/gecko/i.test(p),v=p&&/MSIE/.test(p)&&/Win/.test(p),b=g?"embed":"object",y="//"+l.split(".").slice(0,-1).join(".")+".%s/system/fc%d.html",w="//"+l+".ru/system/%s%d.swf",k="//"+l+".ru/fu",x="//"+l+".ru/fu",E="application/x-shockwave-flash",M="style",C="position:absolute;margin-left:-999em;top:0;",D=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',S="allowScriptAccess",I="always",B="height",T="wmode",P="window",O="width",A="bgcolor",j="#FFFFFF",F="ya_fc",N=n(M,C)+n(O,1)+n(B,1)+n("id",F),$=!1;h.ya_fc_external=function(t,i,l,h){r=t,a=i,u=l,c=h||"fc";var d,f=m&&m[E]?m[E].enabledPlugin:0,p=$,y=0,M=o()?w.replace("%d",a).replace("%s",c):k.replace("%s",s());if(f)y=f.description.split("Shockwave Flash ")[1],p=parseInt(y,10)>=_;else if(v){p=$;try{p=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+_)}catch(B){}}return d=p?g?'<div style="'+C+'"><'+b+N+n("src",M)+n(T,P)+n(A,j)+n(S,I)+n("type",E)+"/></div>":(v?"<"+b+D+N+">"+e("movie",M):"<"+b+N+n("type",E)+n("data",M)+">")+e(T,P)+e(A,j)+e(S,I)+"</"+b+">":'<img src="'+x.replace("%s",s())+'" style="'+C+'" />'},h.ya_fc_requestData=function(){var t=d.getElementById("ya_fc");try{t.setLocation(s(),o())}catch(e){}},h.ya_fc_setCookie=function(t){var e=new Date;e.setTime(e.getTime()+31536e7),d.cookie="fuid"+u+"="+t+";expires="+e.toGMTString()+";path=/;domain="+s()},h.ya_fc_getIFrame=function(t){var e=y.replace("%s",t).replace("%d",r),n=d.createElement("iframe"),i=d.getElementsByTagName("body")[0],o="40px;";n.src=e,n.style.cssText=O+o+B+o+"border:0;"+C,n.frameBorder=0,i&&i.insertBefore(n,i.firstChild)};var L=this,R=arguments.callee.load=function(t){var e,n;t.mode?(e="00",n="kfc"):e="07",L.replaceWith(h.ya_fc_external("07_2",e,"01",n))};L.hasClass("i-flashcookie_autoload_no")||R(t)};Lego.block["i-flashcookie"]=function(n){var i=this.hasClass("i-flashcookie_type_inline")?e:t;i&&i.call(this,n)}}(),function(){var t=Lego.block["i-flashcookie"],e=function(t){function e(t,e){return'<param name="'+t+'" value="'+e+'" />'}function n(t,e){return" "+t+'="'+e+'"'}function i(t,e,n){var i=t.match(e);return i&&i[n+1?n:1]||""}function o(){return i(d.cookie,new RegExp("fuid"+u+"=([^;]+)"))}function s(){var t=d.domain;return t&&i(t,/[^.]+\.[^.]{2,3}(\.tr)?$/,0)}t||(t={});var r,a,u,c,l=t.host||"kiks.yandex",h=window,d=document,f=navigator,p=f.userAgent,m=f.mimeTypes,_=9,g=p&&/gecko/i.test(p),v=p&&/MSIE/.test(p)&&/Win/.test(p),b=g?"embed":"object",y="//"+l.split(".").slice(0,-1).join(".")+".%s/system/fc%d.html",w="//"+l+".ru/system/%s%d.swf",k="//"+l+".ru/fu",x="//"+l+".ru/fu",E="application/x-shockwave-flash",M="style",C="position:absolute;margin-left:-999em;top:0;",D=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',S="allowScriptAccess",I="always",B="height",T="wmode",P="window",O="width",A="bgcolor",j="#FFFFFF",F="ya_fc",N=n(M,C)+n(O,1)+n(B,1)+n("id",F),$=!1;h.ya_fc_external=function(t,i,l,h){r=t,a=i,u=l,c=h||"fc";var d,f=m&&m[E]?m[E].enabledPlugin:0,p=$,y=0,M=o()?w.replace("%d",a).replace("%s",c):k.replace("%s",s());if(f)y=f.description.split("Shockwave Flash ")[1],p=parseInt(y,10)>=_;else if(v){p=$;try{p=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+_)}catch(B){}}return d=p?g?'<div style="'+C+'"><'+b+N+n("src",M)+n(T,P)+n(A,j)+n(S,I)+n("type",E)+"/></div>":(v?"<"+b+D+N+">"+e("movie",M):"<"+b+N+n("type",E)+n("data",M)+">")+e(T,P)+e(A,j)+e(S,I)+"</"+b+">":'<img src="'+x.replace("%s",s())+'" style="'+C+'" />'},h.ya_fc_requestData=function(){var t=d.getElementById("ya_fc");try{t.setLocation(s(),o())}catch(e){}},h.ya_fc_setCookie=function(t){var e=new Date;e.setTime(e.getTime()+31536e7),d.cookie="fuid"+u+"="+t+";expires="+e.toGMTString()+";path=/;domain="+s()},h.ya_fc_getIFrame=function(t){var e=y.replace("%s",t).replace("%d",r),n=d.createElement("iframe"),i=d.getElementsByTagName("body")[0],o="40px;";n.src=e,n.style.cssText=O+o+B+o+"border:0;"+C,n.frameBorder=0,n.setAttribute("tabindex","-1"),n.setAttribute("aria-hidden","true"),i&&i.insertBefore(n,i.firstChild)};var L=this,R=arguments.callee.load=function(t){var e,n;t.mode?(e="00",n="kfc"):e="07",L.replaceWith(h.ya_fc_external("07_2",e,"01",n))};L.hasClass("i-flashcookie_autoload_no")||R(t)};Lego.block["i-flashcookie"]=function(n){var i=this.hasClass("i-flashcookie_type_inline")?e:t;i&&i.call(this,n)}}(),BEM.DOM.decl("user",{redraw:function(){return this}},{getLogoutUrl:function(){var t=BEM.blocks["i-global"],e=t.param("retpath"),n=t.param("yandexuid");return[t.param("passport-host"),"/passport?mode=logout",n?"&yu="+n:"",e?"&retpath="+encodeURIComponent(e):""].join("")}}),BEM.decl("i-common__string",{},{cleverSubstring:function(){var t="…";return function(e,n,i){return e.length>n+i?e.substring(0,n-1)+t:e}}(),escapeHTML:function(){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return function(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return t[e]||e})}}(),escapeRegExp:function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},highlight:function(t,e){if(!$.isArray(e))return t;var n,i=[],o=0,s=e.sort(function(t,e){return t[0]-e[0]}),r=[],a="?",u=~t.indexOf(a),c=function(){for(var e,n=/\&#\d+;/gi;e=n.exec(t);)r.push(e[0]),t=t.replace(e[0],a)},l=function(t){if(u)return t;for(;~t.indexOf(a)&&r.length;)t=t.replace(a,r[0]),r.shift();return t};return!u&&c(),s.forEach(function(e){n=o>e[0]?o:e[0],i.push({tag:"span",elem:"span",content:l(t.slice(o,n))}),i.push({tag:"em",elem:"em",content:l(t.slice(n,o=e[1]))})},this),i.push({tag:"span",elem:"span",content:l(t.slice(o))}),i}}),BEM.DOM.decl("user",{onSetMod:{js:{inited:function(){if(this.__base.apply(this,arguments),this.elem("name").length){var t=this,e=t.elemParams("name");e.isUglyUserName&&BEM.blocks["i-user-services"].get(function(n){var i=BEM.blocks["i-common__string"].cleverSubstring,o=n.displayName?n.displayName.name:n.login;t.elem("name").text(i(o,e.maxLength,e.maxLengthRelative)),t.trigger("update-name")})}}}},toggleCollapsed:function(t){return this.toggleMod("hide-name","yes","",t)}}),BEM.decl("i-user-services",{},{get:function(t){this._data?t(this._data):this._get(t)},getApiUrl:function(){return BEM.blocks["i-global"].param("pass-host")+"/services?callback=?"},_callbacks:[],_get:function(t){var e=this;e._callbacks.push(t),1==e._callbacks.length&&$.getJSON(e.getApiUrl(),{locale:BEM.blocks["i-global"].param("lang"),login:"yes","current-login":BEM.blocks["i-global"].param("login"),yu:$.cookie("yandexuid")},function(t){e._data=t,$.each(e._callbacks,function(){this(t)}),e._callbacks.length=0})}}),BEM.DOM.decl("user",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),(this._isRetina=window.devicePixelRatio>1)&&this.updateIcon()}}},_getIconPath:function(){var t=this.params.avatarHost,e=this.params.uid||BEM.blocks["i-global"].param("uid"),n=this._getIconSize(),i=(this._isRetina?"/islands-retina-":"/islands-")+n;return[t,"/get-yapic/",e,i,"?rnd=",+new Date].join("")},_setIconBackground:function(t){var e=this.elem("icon");e&&e.css("background-image","url("+t+")")},updateIcon:function(){var t=this._getIconPath();this._setIconBackground(t)},getDefaultParams:function(){return{avatarHost:"//avatars.yandex.net"}}}),BEM.DOM.decl("user",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}}},_getIconSize:function(){return"middle"}}),function(){BEM.DOM.decl("tabs",{activate:function(){return this},getActive:function(){return-1},disable:function(){return this},enable:function(){return this},isDisabled:function(){},_onControlChange:function(){}},{getSupportedControls:function(){return["tabs-menu","radio-button"]},live:function(){this.getSupportedControls().forEach(function(t){BEM.blocks[t]&&this.liveInitOnBlockInsideEvent("change",t,function(t,e){this._onControlChange(t,e)})},this)}})}(),$(document).ready(function(){function t(t,e){return t+(e.length?(-1!==t.indexOf("?")?"&":"?")+e:"")}function e(t){return tabParams.searchParamName&&tabParams.searchParamName[t]?tabParams.searchParamName[t]:""}function n(){var n=encodeURIComponent($.trim(i.val()));r&&n===s||(r=!0,s=n,o.map(function(){var i,o,s,r=(this.host,$(this).attr("id").split("-")[1]),a="",u="",c="";if(tabParams.url[r]){if(i=tabParams.url[r],tabParams.searchUrl[r]&&(s=tabParams.searchUrl[r]),n&&s||!tabParams.noSearchDefParamsMap||!tabParams.noSearchDefParamsMap[r]?n&&tabParams.searchDefParamsMap&&tabParams.searchDefParamsMap[r]&&(a=$.param(tabParams.searchDefParamsMap[r])):a=$.param(tabParams.noSearchDefParamsMap[r]),u=$.param(tabParams.commonParams),c=[u,a].filter(function(t){return t.length}).join("&"),s&&n||(o=t(i,c)),s&&n){var l=e(r);o=t(s,c),o=t(o,l+"="+n)}$(this).attr("href",o)}}))}if(window.tabParams){var i=$("#text"),o=$("a.link__tab, .link__tab2");if(i.length||(i=tabParams.elemSearch),!o.length&&tabParams.elemTabs&&(o=tabParams.elemTabs),i.length&&o.length){var s="",r=!1;setInterval(n,200)}}}),BEM.DOM.decl("b-head-tabs",{onSetMod:{js:function(){var t=this.findBlockInside("b-popupa");t&&(t.on("show",function(){this.afterCurrentEvent(function(){$(window).trigger("balance.b-twocolumns")})}),t.on("hide",function(){$(window).trigger("unbalance.b-twocolumns")}))}}}),function(){var t={9:"tab",13:"enter",32:"space",33:"page up",34:"page down",35:"end",36:"home",37:"left arrow",38:"up arrow",39:"right arrow",40:"down arrow",46:"delete"},e={27:"escape"};BEM.DOM.decl({block:"i-ua",modName:"interaction",modVal:"yes"},{onSetMod:{js:{inited:function(){this.bindTo("mousedown",this._onPointer).bindTo("keydown",this._onKeyboard)}}},_onPointer:function(){this.interaction="pointer",this.domElem.attr("data-interaction","pointer"),this.unbindFrom("mousedown")},_onKeyboard:function(n){var i=n.keyCode;return e[i]?void this._onPointer():void(t[i]&&"keyboard"!==this.interaction&&(this.domElem.attr("data-interaction","keyboard"),this.interaction="keyboard",this.bindTo("mousedown",this._onPointer)))}})}(),function(){var t={9:"tab",13:"enter",32:"space",33:"page up",34:"page down",35:"end",36:"home",37:"left arrow",38:"up arrow",39:"right arrow",40:"down arrow",46:"delete"},e={27:"escape"};BEM.DOM.decl({block:"i-ua",modName:"interaction",modVal:"yes"},{_onPointer:function(){this.interaction="pointer",this.domElem.attr("data-interaction","pointer"),this.__self.liveUnbindFrom("mousedown",this._onPointer)},_onKeyboard:function(n){var i=n.keyCode;return e[i]?void this._onPointer():void(t[i]&&"keyboard"!==this.interaction&&(this.domElem.attr("data-interaction","keyboard"),this.interaction="keyboard",this.__self.liveBindTo("mousedown",this._onPointer)))}},{live:function(){this.liveBindTo("mousedown",this.prototype._onPointer).liveBindTo("keydown",this.prototype._onKeyboard)}})}(),function(t){t=t||{},t.oframebustMatchDomain=function(t,e){t="[object Array]"===Object.prototype.toString.call(t)?t:function(){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}();for(var n=0,i=t.length;i>n;n++){var o=t[n];if("string"==typeof o){if(/(\?|\*)/.test(o)){var s=o.replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\?/g,".{1}");if(new RegExp("^"+s+"$").test(e))return!0}else if(e==o)return!0}else try{if(o.test(e))return!0}catch(r){}}}}(window.Lego),function(t){t=t||{},t.oframebust=function(e){if(window.top.location!=window.location){var n=document.referrer.match(/^https?:\/\/([^:\/\s]+)\/?.*/);if(!n)return;!t.oframebustMatchDomain(e,n[1])&&(window.top.location=window.location)}}}(window.Lego),function(){"use strict";BEM.DOM.decl({name:"popup",modName:"focus",modVal:"capture"},{_onShown:function(){this.__base.apply(this,arguments),this.domElem.attr("tabindex","0").focus()},_onHidden:function(){this.__base.apply(this,arguments),this.domElem.removeAttr("tabindex")}})}(),function(){function t(){var t=n.height(),e=i.height(),a=$(window).height();o||(o=t,s=t-e),i.css(o+r>a?{height:Math.max(a-r-s,200),overflowY:"auto",marginRight:7}:{height:"auto",overflowY:"visible",marginRight:0})}function e(e){var i;i=e.is(".b-disaster")?$(".link_pseudo_yes",e):$(".b-disaster .link_pseudo_yes",e),i.click(function(e){n&&n.bem("popup").show($(this)),e.preventDefault(),t(),$(window).trigger("disasterpopup.show")})}var n,i,o=0,s=0,r=70;$(function(){n=$(".b-disaster-popup"),i=$(".b-disaster-popup__content"),n.find(".b-disaster-content").each(function(){var t=this.onclick()||{};t=t.content||"",$(this).replaceWith(t)}),$(window).resize(function(){t()})}),window.initDisasterPopup=e}(),$(document).ready(function(){window.setTimeout(function(){var t=home&&home.getData&&home.getData("b-cache.url");if(t){var e=navigator.userAgent.toLowerCase();/crios/.test(e)&&(/ipad/.test(e)||/ipod/.test(e)||/iphone/.test(e))||($.ajaxSetup({cache:!0}),$.getScript(t),$.ajaxSetup({cache:!1}))}},5e3)}),x.Component.extend({id:"check-https-cd",init:function(){var t=this.data("logger"),e=this.data("checker"),n=this.data("replace");if(e&&t&&n){var i=new Image,o=!1;i.src=e,window.setTimeout(function(){o||(i.src="")},1e3),$(i).on("error",function(){$("body").trigger("httpscheck",[!1]),o=!0}),$(i).on("load",function(){$("body").trigger("httpscheck",[!0]),o=!0}),$("body").on("httpscheck",function(e,o){o?$("form[action='"+n+"']").each(function(){this.action=this.action.replace(/(http)(\:\/\/)/,"$1s$2")}):i.src=t.replace(/%s/,((new Date).getTime()/1e3).toFixed())})}}}),$(document).ready(function(){var t=home&&home.getData&&home.getData("awapsbw.data");t&&window.performance&&window.performance.timing&&setTimeout(function(){var e=window.performance.timing.responseEnd-window.performance.timing.responseStart,n=e<=t.limit?101:99,i=!0;e&&("com.tr"===t.domain&&(i=window.plp&&window.plp.white&&window.plp.white[0]&&window.plp.white[0].dry),i&&((new Image).src="//awaps.yandex."+t.domain+"/0/"+t.counter+"/0.gif?setbw="+n+"&ms="+e))},2e3)}),function(t,e){function n(){f&&p&&console.log.apply(console,arguments)}function i(t){return"string"==typeof t&&(t={block:t}),t.block+(t.elem?c+t.elem:"")+(t.modName?u+t.modName+u+t.modVal:"")}function o(t){var e={};return t.split(c).forEach(function(t,n){var i=[n?"elem":"block","mod","val"];t.split(u).forEach(function(t,n){e[i[n]]=t})}),e}function s(t){return t?d.push(t):!1}function r(){return d.length&&d.pop()}function a(){this._lang="",this._prj="lego",this._keyset="",this._key=""}if("function"==typeof e.I18N&&e.I18N._proto)return e.I18N;"undefined"==typeof i18n&&(i18n={}),BEM=e;var u="_",c="__",l="ru",h={},d=[],f=!1,p="undefined"!=typeof console&&"function"==typeof console.log;a.prototype={lang:function(t){return this._lang=t,this},project:function(t){return this._prj=t,this},keyset:function(t,e){return e&&s(this._keyset),this._keyset=i(t),this},key:function(t){return this._key=t,this},decl:function(t){var e=o(this._keyset),n="i-tanker"===e.block?"tanker":this._prj,i=e.elem||this._keyset,s=this._key;n=i18n[n]||(i18n[n]={}),i=n[i]||(n[i]={}),i[s]="function"==typeof t?t:function(){return t};var r=h[this._lang]||(h[this._lang]={}),a=r[this._keyset]||(r[this._keyset]={});a[s]=t},val:function(t,e){var i=h[this._lang]&&h[this._lang][this._keyset],o="keyset: "+this._keyset+" key: "+this._key+" (lang: "+this._lang+")";if(!i)return n("[I18N_NO_KEYSET] %s",o),"";i=i[this._key];var s=typeof i;return"undefined"===s?(n("[I18N_NO_VALUE] %s",o),""):"string"===s?i:(e||(e=this),i.call(e,t))},_cache:function(){return h}},e.I18N=function(t){var e=function(t,n,i){return e.keyset(t).key(n,i)};return e._proto=t,e.project=function(t){return this._proto.project(t),this},e.keyset=function(t){return this._proto.keyset(t,!0),this},e.key=function(t,n){var i,o,s=this._proto;return s.lang(this._lang).key(t),i=s.val.call(s,n,e),o=r(),o&&s.keyset(o,!1),i},e.decl=function(t,e,n){var i,o=this._proto;n||(n={}),n.lang&&o.lang(n.lang),o.keyset(t);for(i in e)e.hasOwnProperty(i)&&o.key(i).decl(e[i]);return this},e.lang=function(t){return"undefined"!=typeof t&&(this._lang=t),this._lang},e.debug=function(t){f=!!t},e.lang(l),e}(new a)}(this,"undefined"==typeof BEM?{}:BEM),BEM.I18N.decl("b-keyboard-popup",{close:"close"},{lang:"en"}),BEM.I18N.decl("i-services",{404:"404",adresa:"Addresses",advertising:"Advertising",afisha:"Entertainment",all:"All services",api:"API",appsearch:"Apps",auto:"Auto",avia:"Flights",aziada:"Азиада",ba:"Bayan",backapv:"Партнер Я.Карт",balance:"Balance",bar:"Bar","bar-ie":"Бар для ИЕ","bar-ie9":"Бар для ИЕ9",bayan:"Баннеры Яндекса",blogs:"Blogs",books:"Books",browser:"Browser",calendar:"Calendar",captcha:"ой...",catalogwdgt:"Каталог виджетов",chrome:"Хром с поиском Яндекса",city:"Cities",cityday:"City Day",collection:"Collection",company:"Company",contest:"Contest",desktop:"Персональный поиск",direct:"Direct","direct.market":"Market",disk:"Disk",ege:"Russian Grade School State Exams",expert:"Эксперт",feedback:"Contact us",feedback2:"Contact us",ff:"ФФ с поиском Яндекса",fotki:"Photos",fresh:"Recent",games:"Games",geocontext:"Геоконтекст",goroda:"Города",help:"Help",i:"Мои сервисы",ie:"ИЕ с поиском Яндекса",images:"Images","images-com":"Images",interests:"Interests",internet:"Интернет",keyboard:"Клавиатура",kraski:"Краски",kuda:"Where",large:"Яндекс для слабовидящих",legal:"Legal documents",lenta:"Feeds",libra:"Library",literacy:"Неделя борьбы за грамотность",local:"Local Network",lost:"Незабудки",love:"День взаимного тяготения — 13 августа",mail:"Mail",maps:"Maps","maps-wiki":"Народная карта",market:"Market","market.advertising":"Market",metrika:"Metrica",metro:"Метро",mobile:"Mobile",moikrug:"Moi Krug",money:"Money",museums:"Дни исторического и культурного наследия",music:"Music","music-partner":"Музыка: статистика",nahodki:"My Findings",nano:"Nano",newhire:"Newhire",news:"News",notifications:"Нотификационная панель",oauth:"OAuth",online:"Online",openid:"OpenID",opera:"Opera Software",opinion:"Цитаты",partners:"Advertising Network",partnersearch:"Поиск для партнеров",passport:"Passport",pdd:"Mail for Domains",peoplesearch:"People search",perevod:"Перевод",probki:"Probki",pulse:"блоги: пульс",punto:"Punto switcher",pvo:"Ask",rabota:"Jobs",ramazan:"",rasp:"Timetables",realty:"Недвижимость",referats:"Рефераты",rk:"Есть вопросы?",root:"Yandex.Olympiad for Unix administrators",school:"Школьная морда",search:"Web",server:"Server",site:"Site search",slovari:"Dictionaries",so:"Самооборона",social:"Социализм",soft:"Programs",sport:"Sport",sprav:"Directory",start:"Стартовая страница",stat:"Статистика",subs:"Subscriptions",taxi:"Taxi",terms:"Разговорник",tests:"Тесты и опросы",tickets:"Tickets",time:"Yandex.Time",toster:"Тосты",translate:"Translate",tune:"Tune",tv:"TV",uslugi:"Services",video:"Video","video-com":"Video",vno:"ZNO",wdgt:"Widgets",weather:"Weather",webmaster:"Webmaster",widgets:"Widgets",wordstat:"Statistics",wow:"Ya.ru",www:"Web",xmlsearch:"XML",yaca:"Catalog",yamb:"Медийные баннеры",zakladki:"Bookmarks"},{lang:"en"}),BEM.I18N.decl("logo",{yandex:"Yandex"},{lang:"en"}),BEM.I18N.decl("search",{"search-for":"Search",query:"Query"},{lang:"en"}),BEM.I18N.decl("search2-web",{"search-button-text":"Search","search-input-label":"Запрос","search-service-label":"Поиск по сервису","search-web-label":"Web Search"},{lang:"en"}),BEM.I18N.decl("suggest2",{fact:"Facts",group:"Group of suggestions",nah:"You searched for",nav:"Site",text:"Search",traffic:"Traffic",weather:"Weather"},{lang:"en"}),BEM.I18N.decl("suggest2-item",{"quick-answer":"Quick answer"},{lang:"en"}),BEM.I18N.decl("user",{enter:"Log in",exit:"Log out",letter:function(t){return this.keyset("i-tanker__dynamic").key("plural_adv",{count:t.count,one:"new message",some:"new messages",many:"new messages",none:"No new messages"})
},letter_compose:"Compose message",passport:"Passport",tune:"Settings",upload_files:"My Disk"},{lang:"en"}),BEM.I18N.lang("en");var BEMHTML=function(){function t(t){return t._mode=n,t.block=i,t.elem=o,t.elemMods=s,t.mods=r,t}function e(t,e){var a=n;n=e._mode;var u=i;i=e.block;var c=o;o=e.elem;var l=s;s=e.elemMods;var h=r;r=e.mods;var d=t(e);return n=a,i=u,o=c,s=l,r=h,d}var n,i,o,s,r,a,u={},c=function(u){function c(){return l(this)}function l(u){function c(){if("no-follow"===this.ctx.link)return void 0;var t=this._links[this.ctx.link];return f=this.ctx,this.ctx=t,p=e(l,this),this.ctx=f,p}function h(t,e,n){if(0===e.length)return void 0;if(Array.isArray(n)){for(var i=t,o=0;o<n.length-1;o++)i=i[n[o]];n=i[n[o]]}for(var s,r=t,o=0;o<e.length-1;o++)r=r[e[o]];return s=r[e[o]],r[e[o]]=n,s}function d(t,e){return(t||"")+"__"+(e||"")}var f,p,m,_,g,v,b,y,w,k,x,E,M,C,D,S,I,B,T,P,O,A,j,F;if("user"===i&&"icon"===o&&"iconSize"===n)return"middle";if("user"===i&&"icon"===o&&!u._uid==!1&&!u.ctx._icon==!1&&"attrs"===n)return{style:"background-image: url("+u.ctx._icon+");"};if("user"===i&&"icon"===o&&!u._uid==!1&&"icon"===n)return[(f=n,n="host",p=l(u),n=f,p),"/get-yapic/",u._uid,"/islands-",(m=n,n="iconSize",_=l(u),n=m,_),"?rnd=",+new Date].join("");if("user"===i&&"icon"===o&&!u._uid==!1&&"host"===n)return"http://avatars.yandex.net";if("user"===i&&"icon"===o&&!u._uid==!1&&"tag"===n)return"span";if("user"===i&&"icon"===o&&!u._uid==!1&&!(u.__$anflg14!==!0)==!1&&"default"===n){var N=(f=n,n="icon",p=l(u),n=f,p),m=u.__$anflg14;u.__$anflg14=!0;var _=u.ctx,g=_._icon;return _._icon=N,l(u),_._icon=g,void(u.__$anflg14=m)}if("user"===i&&"name"===o&&"js"===n)return{maxLength:u._maxLength,maxLengthRelative:u._maxLengthRelative,isUglyUserName:u._isUglyUserName};if("user"===i&&"name"===o&&"content"===n)return f=n,n="pre-content",p=u.ctx,u.ctx=u.cleverSubstring(u._userName,u._maxLength,u._maxLengthRelative),m=l(u),n=f,u.ctx=p,m;if("user"===i&&"name"===o&&"pre-content"===n)return u.ctx;if("user"===i&&"name"===o&&!(u.__$anflg13!==!0)==!1&&"default"===n){var $=u.ctx,L=u["i-global"],R=$.content||$.login||(L.displayName||{}).name,q=!1;R||(/^uid-/.test(L.login)?(R="",q=!0):R=L.login);var f=u.__$anflg13;u.__$anflg13=!0;var p=u._maxLength;u._maxLength=$.hasOwnProperty("maxLength")?$.maxLength:16;var m=u._maxLengthRelative;u._maxLengthRelative=$.hasOwnProperty("maxLengthRelative")?$.maxLengthRelative:3;var _=u._userName;u._userName=R;var g=u._isUglyUserName;return u._isUglyUserName=q,l(u),u._maxLength=p,u._maxLengthRelative=m,u._userName=_,u._isUglyUserName=g,void(u.__$anflg13=f)}if("user"===i&&"name"===o&&"tag"===n)return"span";if(""===n&&!u._==!1&&!!u._.cleverSubstring==!1)return u._.cleverSubstring=function(t,e,n){return t.length>e+n?t.substring(0,e-1)+"…":t},void l(u);if(!!o==!1&&"user"===i&&"content"===n)return u["i-global"].login?[u.ctx.content]:{elem:"enter"};if(!!o==!1&&"user"===i&&"attrs"===n){var V=u["i-global"],U=V.login&&0===V.login.lastIndexOf("uid-",0),z={href:U?V["social-host"]:V["passport-host"]+"/passport?mode=passport"},H=u.ctx.counter||(u.ctx.counters||{}).user;return H&&(z.onmousedown=H),z}if(!!o==!1&&"user"===i&&"js"===n)return!0;if(!!o==!1&&"user"===i&&"tag"===n)return"a";if(!!o==!1&&"user"===i&&!(u.__$anflg12!==!0)==!1&&"default"===n){var K=u.ctx.js||{};K.uid=K.uid||u["i-global"].uid;var f=u.__$anflg12;u.__$anflg12=!0;var p=u._uid;u._uid=K.uid;var m=u.ctx,_=m.js;return m.js=K,l(u),u._uid=p,m.js=_,void(u.__$anflg12=f)}if(!!o==!1&&"image"===i&&"attrs"===n){var W,Q=u.ctx,G={src:"//yandex.st/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif",alt:""},J=["alt","width","height"];for(Q.url&&(G.src=Q.url);W=J.shift();)Q[W]&&(G[W]=Q[W]);return G}if(!!o==!1&&"image"===i&&"tag"===n)return"img";if(!!o==!1&&"image"===i&&"attrs"===n){var Y,X=u.ctx,Z={src:"//yastatic.net/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif",alt:""},te=["alt","width","height"];for(X.url&&(Z.src=X.url);Y=te.shift();)X[Y]&&(Z[Y]=X[Y]);return Z}if(!!o==!1&&"image"===i&&"tag"===n)return"img";if("b-menu-vert"===i&&"separator"===o&&"tag"===n)return"li";if("b-menu-horiz"===i&&!r==!1&&"item-selector"===o&&"tag"===n)return"span";if("b-menu-horiz"===i&&!r==!1&&"layout-unit"===o&&"mix"===n){var ee=[];return u.isFirst()&&ee.push({elemMods:{position:"first"}}),u.isLast()&&ee.push({elemMods:{position:"last"}}),ee}if("b-menu-horiz"===i&&!r==!1&&"item"===o&&!(u.__$anflg11!==!0)==!1&&"default"===n){var f=u.__$anflg11;u.__$anflg11=!0;var p=n;n="";var m=u.position;u.position=u.position-1;var _=u.ctx;return u.ctx={elem:"layout-unit",content:u.ctx},l(u),n=p,u.position=m,u.ctx=_,void(u.__$anflg11=f)}if(!!o==!1&&"b-menu-horiz"===i&&!r==!1&&"js"===n)return!0;if("dropdown-menu"===i&&"switcher"===o&&!(u.__$anflg10!==!0)==!1&&"default"===n){var ne=u.ctx.content;ne.mix=(ne.mix||[]).concat([{block:"dropdown-menu",elem:"switcher"}]);var f=u.__$anflg10;u.__$anflg10=!0;var p=u.ctx;u.ctx=ne;var m=n;return n="",l(u),u.ctx=p,n=m,void(u.__$anflg10=f)}if("dropdown-menu"===i&&"popup"===o&&!(u.__$anflg9!==!0)==!1&&"default"===n){var ie=u.ctx,f=u.__$anflg9;u.__$anflg9=!0;var p=u.ctx;u.ctx={block:"dropdown",elem:"popup",js:u.ctx.js,mix:(ie.mix||[]).concat({block:"dropdown-menu",elem:"popup",mods:u._.extend({size:u.dropdownMenuSize},ie.mods)}),attrs:ie.attrs,content:{block:"dropdown-menu",elem:"menu",title:ie.menuTitle,type:ie.type,mods:ie.menuMods,mix:ie.menuMix,content:ie.content}};var m=n;return n="",l(u),u.ctx=p,n=m,void(u.__$anflg9=f)}if(!("b-menu-vert"===i||"b-menu-horiz"===i)==!1&&!u._inDropdownMenu==!1&&"item"===o&&"attrs"===n)return{role:"menuitem"};if(!("b-menu-vert"===i||"b-menu-horiz"===i)==!1&&!u._inDropdownMenu==!1&&!!o==!1&&"attrs"===n)return{role:"menu"};if("dropdown-menu"===i&&"menu"===o&&!(u.__$anflg8!==!0)==!1&&"default"===n){var oe=u.ctx,se=oe.type||"vert",re=oe.mods||{};re.theme||(re.theme="ffffff");var f=u.__$anflg8;u.__$anflg8=!0;var p=u.ctx;u.ctx=(u._inDropdownMenu=!0,{block:"b-menu-"+se,mix:(oe.mix||[]).concat({block:"dropdown-menu",elem:"menu",mods:re}),title:oe.title,content:oe.content});var m=n;return n="",l(u),u.ctx=p,n=m,void(u.__$anflg8=f)}if(!!o==!1&&"dropdown-menu"===i&&!(u.__$anflg7!==!0)==!1&&"default"===n){var ae=u.ctx,ue=ae.mods||(ae.mods={});ue.theme||(ue.theme="ffffff"),u.dropdownMenuSize=ue.size;var f=u.__$anflg7;u.__$anflg7=!0;var p=u.ctx;u.ctx=ae;var m=n;return n="",l(u),u.ctx=p,n=m,void(u.__$anflg7=f)}if(!!o==!1&&"dropdown-menu"===i&&"js"===n)return!0;if("b-menu-vert"===i&&"title"===o&&"tag"===n)return"h3";if("b-menu-vert"===i&&"submenu"===o&&"tag"===n)return"ul";if("b-menu-vert"===i&&"item-selector"===o&&"tag"===n)return"span";if("b-menu-vert"===i&&"layout-unit"===o&&"mix"===n){var ce=[];return u.isFirst()&&ce.push({elemMods:{position:"first"}}),u.isLast()&&ce.push({elemMods:{position:"last"}}),ce}if("b-menu-vert"===i&&"layout-unit"===o&&"tag"===n)return"li";if("b-menu-vert"===i&&"item"===o&&!(u.__$anflg6!==!0)==!1&&"default"===n){var f=u.__$anflg6;u.__$anflg6=!0;var p=n;n="";var m=u.position;u.position=u.position-1;var _=u.ctx;return u.ctx={elem:"layout-unit",content:[u.ctx,u.ctx["item-content"]]},l(u),n=p,u.position=m,u.ctx=_,void(u.__$anflg6=f)}if("b-menu-vert"===i&&"layout"===o&&"tag"===n)return"ul";if(!!o==!1&&"b-menu-vert"===i&&"content"===n)return[u.ctx.title,{elem:"layout",content:u.ctx.content}];if("popup"===i&&"tail"===o&&"tag"===n)return"i";if("dropdown"===i&&"popup"===o&&!(u.__$anflg5!==!0)==!1&&"default"===n){var le=u.ctx,he=[{block:"dropdown",elem:"popup"}];le.mix&&(he=he.concat(le.mix));var f=u.__$anflg5;u.__$anflg5=!0;var p=u.ctx;u.ctx={block:"popup",mix:he,mods:le.mods,attrs:le.attrs,js:le.js,content:[{elem:"tail"},{elem:"content",content:le.content}]};var m=n;return n="",l(u),u.ctx=p,n=m,void(u.__$anflg5=f)}if(!!o==!1&&"dropdown"===i&&"mix"===n)return[{mods:{action:"closed"}}];if(!!o==!1&&"dropdown"===i&&"js"===n)return!0;if("suggest2-item"===i&&!(r&&"nav"===r.type)==!1&&"fact"===o&&"content"===n)return u.xmlEscape(u.ctx.content);if("suggest2-item"===i&&!(r&&"link"===r.interact)==!1&&!("nav"===r.type||"icon"===r.type)==!1&&"text"===o&&"mix"===n)return{mods:{type:"url"}};if(!!o==!1&&"suggest2-item"===i&&!(r&&"link"===r.interact)==!1&&"content"===n)return{elem:"link",url:u.ctx.url,target:u.ctx.target||"_blank",content:u.ctx.content};if("suggest2-item"===i&&"bullet"===o&&"attrs"===n)return{"aria-hidden":!0};if("suggest2-item"===i&&"bullet"===o&&"tag"===n)return"span";if("suggest2"===i&&"a11y"===o&&"tag"===n)return"span";if("suggest2-item"===i&&"fact"===o&&"content"===n)return[{block:"suggest2",elem:"a11y",content:BEM.I18N("suggest2-item","quick-answer")+": "},u.xmlEscape(u.ctx.content)];if("suggest2-item"===i&&"fact"===o&&!u.ctx.color==!1&&!(u.__$anflg4!==!0)==!1&&"default"===n){u.ctx.attrs=u.extend(u.ctx.attrs||{},{style:((u.ctx.attrs||{}).style||"")+";color:"+u.ctx.color+";"});var f=u.__$anflg4;return u.__$anflg4=!0,l(u),void(u.__$anflg4=f)}if("suggest2-item"===i&&"link"===o&&"attrs"===n)return{href:u.ctx.url,target:u.ctx.target};if("suggest2-item"===i&&"link"===o&&"tag"===n)return"a";if("suggest2-item"===i&&"icon"===o&&!s.weather==!1&&!(u.__$anflg3!==!0)==!1&&"default"===n){var f=u.__$anflg3;u.__$anflg3=!0;var p=s,m=p.weather;return p.weather=s.weather.replace("-","minus-").replace("+","plus-").replace(/_/g,"-"),l(u),p.weather=m,void(u.__$anflg3=f)}if("suggest2-item"===i&&"icon"===o&&"tag"===n)return"span";if("suggest2-item"===i&&"icon"===o&&!(u.__$anflg2!==!0)==!1&&"default"===n){var de=u.ctx.png&&u.ctx.svg?u.ctx[BEM.blocks["i-ua"]&&BEM.blocks["suggest2-detect"].isSupportInlineSVG()?"svg":"png"]:u.ctx.svg||u.ctx.png;de&&(u.ctx.attrs=u.extend(u.ctx.attrs||{},{style:((u.ctx.attrs||{}).style||"")+';background-image:url("'+de+'");'}));var f=u.__$anflg2;return u.__$anflg2=!0,l(u),void(u.__$anflg2=f)}if("suggest2"===i&&!(r&&"normal"===r.theme)==!1&&"content"===o&&"tag"===n)return"ul";if("suggest2-item"===i&&"highlight"===o&&"content"===n)return u.xmlEscape(u.ctx.content);if("suggest2-item"===i&&"highlight"===o&&"bem"===n)return!1;if("suggest2-item"===i&&"highlight"===o&&"tag"===n)return"b";if("suggest2-item"===i&&"fact"===o&&"tag"===n)return"span";if("suggest2-item"===i&&"text"===o&&"content"===n)return Array.isArray(u.ctx.content)?u.ctx.content.map(function(t){return"string"==typeof t?this.xmlEscape(t):t},t(u)):u.xmlEscape(u.ctx.content);if("suggest2-item"===i&&"text"===o&&"tag"===n)return u.ctx.tag||"span";if(!!o==!1&&"suggest2-item"===i&&"js"===n)return!0;if(!!o==!1&&"suggest2-item"===i&&"tag"===n)return"li";if("i-bem"===i&&"i18n"===o&&"default"===n){if(!u.ctx)return"";var fe=u.ctx,pe=fe.keyset,me=fe.key,_e=fe.params||{};if(!pe&&!me)return"";if(fe.content){var ge;_e.content=(ge=[],f=u._buf,u._buf=ge,p=n,n="",m=u.ctx,u.ctx=fe.content,_=l(u),u._buf=f,n=p,u.ctx=m,ge.join(""))}return void u._buf.push(BEM.I18N(pe,me,_e))}if(!!o==!1&&"suggest2"===i&&"mix"===n)return[{block:"suggest2-detect",js:!0}];if("suggest2"===i&&"items"===o&&"tag"===n)return"ul";if(!!o==!1&&"suggest2"===i&&"js"===n)return!0;if(!!o==!1&&"popup"===i&&"content"===n)return[{elem:"under",mods:u.ctx.underMods},u.ctx.content];if(!!o==!1&&"popup"===i&&"default"===n&&!!u._popupDefaults==!1){var ve=u.ctx;if(ve.mods=r=u.extend({theme:"ffffff",autoclosable:"yes",adaptive:"yes",animate:"yes"},r),ve.zIndex){var be=ve.attrs||(ve.attrs={});be.style=(be.style||"")+";z-index:"+ve.zIndex+";"}var f=u._popupDefaults;return u._popupDefaults=!0,l(u),void(u._popupDefaults=f)}if("popup"===i&&!(""===n&&u._popupDefaults)==!1)return delete u._popupDefaults,void l(u);if(!!o==!1&&"b-page"===i&&"js-params"===n){var ye,we=u["i-global"],ke={},xe={block:"i-global",js:ke};for(ye in we)we.hasOwnProperty(ye)&&(f=n,n="public-params",p=i,i="i-global",m=o,o=ye,_=l(u),n=f,i=p,o=m,_)&&(ke[ye]=we[ye]);return xe}if("i-global"===i&&"public-params"===n&&!o==!1)return{id:1,lang:1,tld:1,"content-region":1,"user-region":1,login:1,displayName:1,index:1,yandexuid:1,"passport-host":1,"pass-host":1,"passport-msg":1,"static-host":1,"lego-static-host":1,"social-host":1,clck:1,"click-host":1,"export-host":1,"i-host":1,"social-retpath":1,"lego-path":1,sid:1,retpath:1,uid:1}[o]||!1;if("i-global"===i&&"default"===n&&"lego-static-host"===o)return"//yastatic.net/lego/2.10-142";if("i-global"===i&&"default"===n&&"export-host"===o)return"https://export.yandex.ru";if("i-global"===i&&"default"===n&&"social-host"===o)return"https://social.yandex.ru";if("i-global"===i&&"default"===n&&"pass-host"===o)return"https://pass.yandex.ru";if("i-global"===i&&"default"===n&&"passport-host"===o)return"https://passport.yandex.ru";if("i-global"===i&&"default"===n&&"click-host"===o)return"//clck.yandex.ru";if("i-global"===i&&"default"===n&&"content-region"===o)return"ru";if("i-global"===i&&"default"===n&&"tld"===o)return"ru";if("i-global"===i&&"default"===n&&"lang"===o)return"ru";if("i-global"===i&&"default"===n&&!o==!1)return"";if(!!o!=!1||"i-global"!==i||"default"!==n){if(!!o==!1&&"i-global"===i&&"env"===n)return{};if(""===n&&!!u["i-global"]==!1){for(var Ee,Me={},Ce=["lang","tld","content-region","click-host","passport-host","pass-host","social-host","export-host","login","lego-static-host"];Ee=Ce.shift();)Me[Ee]=(f=n,n="default",p=i,i="i-global",m=o,o=Ee,_=l(u),n=f,i=p,o=m,_);return u["i-global"]=u._.extend(Me,(g=n,n="env",v=i,i="i-global",b=l(u),n=g,i=v,b)),void l(u)}if(!!o==!1&&"i-ua"===i&&!(u.__$anflg1!==!0)==!1&&"content"===n){var De=(f=u.__$anflg1,u.__$anflg1=!0,p=l(u),u.__$anflg1=f,p);return De+=[";(function(d,e,c,n,w,v,f){","e=d.documentElement;",'c="className";','n="createElementNS";','f="firstChild";','w="http://www.w3.org/2000/svg";','e[c]+=" i-ua_svg_"+(!!d[n]&&!!d[n](w,"svg").createSVGRect?"yes":"no");','v=d.createElement("div");','v.innerHTML="<svg/>";','e[c]+=" i-ua_inlinesvg_"+((v[f]&&v[f].namespaceURI)==w?"yes":"no");',"})(document);"].join("")}if(!!o==!1&&"i-ua"===i&&"content"===n)return[";(function(d,e,c,r){","e=d.documentElement;",'c="className";','r="replace";','e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");','if(d.compatMode!="CSS1Compat")','e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")',"})(document);"].join("");if(!!o==!1&&"i-ua"===i&&"bem"===n)return!1;if(!!o==!1&&"i-ua"===i&&"tag"===n)return"script";if("content"===n)return u.ctx.content;if("mix"===n)return void 0;if("bem"===n)return void 0;if("jsAttr"===n)return void 0;if("js"===n)return void 0;if("cls"===n)return void 0;if("attrs"===n)return void 0;if("tag"===n)return void 0;if(!u.ctx==!1&&!!u._.isSimple(u.ctx)==!1&&!u.ctx.link==!1){if(!a||!u._cacheLog)return c.call(t(u));var Se=u._buf.slice(u._cachePos).join("");u._cachePos=u._buf.length,u._cacheLog.push(Se,{log:u._localLog.slice(),link:u.ctx.link});var Ie=c.call(t(u));return u._cachePos=u._buf.length,Ie}if(!a==!1&&!u.ctx==!1&&!u.ctx.cache==!1){var Be;if(Be=a.get(u.ctx.cache)){var Te=u._links;u.ctx.links&&(u._links=u.ctx.links);for(var Pe=0;Pe<Be.log.length;Pe++)if("string"!=typeof Be.log[Pe]){var Oe,Ae=Be.log[Pe];Oe=Ae.log.map(function(t){return{key:t[0],value:h(this,t[0],t[1])}},t(u)).reverse();var f=u.ctx,p=f.cache;f.cache=null;var m=u._cacheLog;u._cacheLog=null;var _=u.ctx,g=_.link;_.link=Ae.link,l(u),f.cache=p,u._cacheLog=m,_.link=g,Oe.forEach(function(t){h(this,t.key,t.value)},t(u))}else u._buf.push(Be.log[Pe]);return u._links=Te,Be.res}var je,Fe=[],v=u.ctx,b=v.cache;v.cache=null;var y=u._cachePos;u._cachePos=u._buf.length;var w=u._cacheLog;u._cacheLog=Fe;var k=u._localLog;u._localLog=[],je=l(u);var Ne=u._buf.slice(u._cachePos).join("");return Ne&&Fe.push(Ne),v.cache=b,u._cachePos=y,u._cacheLog=w,u._localLog=k,a.set(u.ctx.cache,{log:Fe,res:je}),je}if("default"!==n){if(""===n&&!u._.isSimple(u.ctx)==!1){u._listLength--;var $e=u.ctx;return void(($e&&$e!==!0||0===$e)&&u._buf.push($e))}if(""===n&&!!u.ctx==!1)return void u._listLength--;if(""===n&&!u._.isArray(u.ctx)==!1){var Le=u.ctx,Re=Le.length,qe=0,Ve=u.position,Ue=u._notNewList;for(Ue?u._listLength+=Re-1:(u.position=0,u._listLength=Re),u._notNewList=!0;Re>qe;){var ze=Le[qe++],f=u.ctx;u.ctx=null==ze?"":ze,l(u),u.ctx=f}return void(Ue||(u.position=Ve))}if(""===n){var He=u.ctx.block,Ke=u.ctx.elem,We=u._currBlock||i;u.ctx||(u.ctx={});var f=n;n="default";var p=u._links;u._links=u.ctx.links||u._links;var m=i;i=He||(Ke?We:void 0);var _=u._currBlock;u._currBlock=He||Ke?void 0:We;var g=o;o=u.ctx.elem;var v=r;r=He?u.ctx.mods||(u.ctx.mods={}):r;var b=s;return s=u.ctx.elemMods||{},i||o?u.position=(u.position||0)+1:u._listLength--,l(u),n=f,u._links=p,i=m,u._currBlock=_,o=g,r=v,void(s=b)}}else{var Qe,Ge=u.BEM,Je=u.ctx,Ye=u._buf;if(f=n,n="tag",p=l(u),n=f,Qe=p,"undefined"!=typeof Qe||(Qe=Je.tag),"undefined"!=typeof Qe||(Qe="div"),Qe){var Xe,Ze;i&&Je.js!==!1&&(g=n,n="js",v=l(u),n=g,Ze=v,Ze=Ze?u._.extend(Je.js,Ze===!0?{}:Ze):Je.js===!0?{}:Je.js,Ze&&((Xe={})[Ge.INTERNAL.buildClass(i,Je.elem)]=Ze)),Ye.push("<",Qe);var tn=(b=n,n="bem",y=l(u),n=b,y);"undefined"!=typeof tn||(tn="undefined"!=typeof Je.bem?Je.bem:Je.block||Je.elem);var en=(w=n,n="cls",k=l(u),n=w,k);en||(en=Je.cls);var nn=Je.block&&Xe&&!Je.elem;if(tn||en){if(Ye.push(' class="'),tn){Ge.INTERNAL.buildClasses(i,Je.elem,Je.elemMods||Je.mods,Ye);var on=(x=n,n="mix",E=l(u),n=x,E);if(Je.mix&&(on=on?[].concat(on,Je.mix):Je.mix),on){var sn={};sn[d(i,o)]=!0,u._.isArray(on)||(on=[on]);for(var rn=0;rn<on.length;rn++){var an=on[rn];if(an){var un=an.block||an.elem,cn=an.block||an._block||i,ln=an.elem||an._elem||o,hn=an.mods||r,dn=an.elemMods||{};if(un&&Ye.push(" "),Ge.INTERNAL[un?"buildClasses":"buildModsClasses"](cn,an.elem||an._elem||(an.block?void 0:o),an.elemMods||an.mods,Ye),an.js&&((Xe||(Xe={}))[Ge.INTERNAL.buildClass(cn,an.elem)]=an.js===!0?{}:an.js,nn||(nn=cn&&!an.elem)),un&&!sn[d(cn,ln)]){sn[d(cn,ln)]=!0;var fn=(M=i,i=cn,C=o,o=ln,D=r,r=hn,S=s,s=dn,I=n,n="mix",B=l(u),i=M,o=C,r=D,s=S,n=I,B);if(fn)for(var pn=0;pn<fn.length;pn++){var mn=fn[pn];(mn.block||mn.elem)&&sn[d(mn.block,mn.elem)]||(mn._block=cn,mn._elem=ln,on.splice(rn+1,0,mn))}}}}}}en&&Ye.push(tn?" ":"",en),nn&&Ye.push(" i-bem"),Ye.push('"')}if(Xe){var _n=(T=n,n="jsAttr",P=l(u),n=T,P);Ye.push(" ",_n||"data-bem",'="',u._.attrEscape(JSON.stringify(Xe)),'"')}var gn=(O=n,n="attrs",A=l(u),n=O,A);if(gn=u._.extend(gn,Je.attrs)){var vn;for(vn in gn)void 0!==gn[vn]&&Ye.push(" ",vn,'="',u._.attrEscape(gn[vn]),'"')}}if(u._.isShortTag(Qe))Ye.push("/>");else{Qe&&Ye.push(">");var bn=(j=n,n="content",F=l(u),n=j,F);if(bn||0===bn){var tn=i||o,yn=u._notNewList;u._notNewList=!1;var wn=u.position;u.position=tn?1:u.position;var kn=u._listLength;u._listLength=tn?1:u._listLength;var xn=u.ctx;u.ctx=bn;var En=n;n="",l(u),u._notNewList=yn,u.position=wn,u._listLength=kn,u.ctx=xn,n=En}Qe&&Ye.push("</",Qe,">")}}}else{var Mn,Cn,Dn,Sn=u.ctx.params||{},In=u["i-global"],Bn=Sn.tld&&Sn.tld!==In.tld;Bn&&(Mn=Sn.tld,Cn="tr"===Mn?"yandex.com.tr":"yandex."+Mn,Dn=-1!=["ua","by","kz"].indexOf(Mn)?"yandex.ru":Cn,In["content-region"]=Mn,In["click-host"]="//clck."+Dn,In["passport-host"]="https://passport."+Dn,In["pass-host"]="https://pass."+Cn,In["social-host"]="https://social."+Cn,In["export-host"]="https://export."+Cn);for(var Tn in Sn)In[Tn]=Sn[Tn]}}return!function(){!function(t,e){if(e.I18N)return void 0;t.BEM=e;var n=e.I18N=function(t,e){return e};n.keyset=function(){return n},n.key=function(t){return t},n.lang=function(){return void 0}}(this,"undefined"==typeof BEM?{}:BEM)}(),!function(){function t(t){this.apply=t,this._buf=null,this.ctx=null,this._=this,this._start=!0,this._listLength=0,this._notNewList=!1,this._inside=!1,this.position=0}var e={},n=Object.prototype.toString,i={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1};!function(t,e){function n(t,e,n){n.push(s,t,s,e)}function i(t,e,i,o){o.push(t),i&&n(e,i,o)}function o(t,o,s,a,u){i(t,e,e,u),u.push(r,o),a&&n(s,a,u)}var s="_",r="__",a="[a-zA-Z0-9-]+";t.INTERNAL={NAME_PATTERN:a,MOD_DELIM:s,ELEM_DELIM:r,buildModPostfix:function(t,e,i){var o=i||[];return n(t,e,o),i?o:o.join("")},buildClass:function(t,n,s,r,a){var u=typeof s;if("string"==u?"string"!=typeof r&&(a=r,r=s,s=n,n=e):"undefined"!=u?(a=s,s=e):n&&"string"!=typeof n&&(a=n,n=e),!(n||s||a))return t;var c=a||[];return n?o(t,n,s,r,c):i(t,s,r,c),a?c:c.join("")},buildModsClasses:function(t,e,n,s){var r=s||[];if(n){var a;for(a in n)if(n.hasOwnProperty(a)){var u=n[a];null!=u&&(u=n[a]+"",u&&(r.push(" "),e?o(t,e,a,u,r):i(t,a,u,r)))}}return s?r:r.join("")},buildClasses:function(t,n,s,r){var a=r||[];return n?o(t,n,e,e,a):i(t,e,e,a),this.buildModsClasses(t,n,s,r),r?a:a.join("")}}}(e),t.prototype.reinit=function(t){this.ctx=null===typeof t?"":t,this._buf=[],this._start=!0,this._listLength=0,this._notNewList=!1,this.position=0},t.prototype.isArray=Array.isArray?function(t){return Array.isArray(t)}:function(t){return"[object Array]"===n.call(t)},t.prototype.isSimple=function(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e},t.prototype.isShortTag=function(t){return i.hasOwnProperty(t)},t.prototype.extend=function(t,e){if(!t||!e)return t||e;var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i},t.prototype.identify=function(){var t=0,n=e.__id=+new Date,i="__"+n,o=function(){return"uniq"+n+ ++t};return function(t,e){return t?e||t[i]?t[i]:t[i]=o():o()}}(),t.prototype.xmlEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.prototype.attrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t.prototype.BEM=e,t.prototype.isFirst=function(){return 1===this.position},t.prototype.isLast=function(){return this.position===this._listLength},t.prototype.generateId=function(){return this.identify(this.ctx)},u.apply=t.apply=function(){var e=new t(c);return e.reinit(this),e.apply(),e._buf.join("")}}(),u}("undefined"==typeof u?{}:u);return function(t){var e=this;return t||(t={}),a=t.cache,function(){return e===this?(e=void 0,n="",i="",o="",s="",r=""):(n="",i="",o="",s="",r=""),c.apply.call([e])}.call(null)}}();"undefined"==typeof exports||(exports.BEMHTML=BEMHTML);